# å¡ç‰‡ç¼–è¾‘å¼•æ“ - å¼€å‘è§„èŒƒ

**ç‰ˆæœ¬**: 2.0.0  
**æœ€åæ›´æ–°**: 2026-01-31  
**é€‚ç”¨èŒƒå›´**: Chips-Editor å¡ç‰‡ç¼–è¾‘å¼•æ“é¡¹ç›®  
**çŠ¶æ€**: âœ… ç”Ÿæ•ˆ

---

## ğŸ“Œ æŠ€æœ¯æ ˆè¯´æ˜

**å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript  
**çŠ¶æ€ç®¡ç†**: Pinia  
**æ¡Œé¢æ¡†æ¶**: Electron  
**UIç»„ä»¶åº“**: @chips/components (è–¯ç‰‡ç»„ä»¶åº“)  
**é€šä¿¡å±‚**: @chips/sdk (è–¯ç‰‡SDK)

**é‡è¦ä¾èµ–**:
- è–¯ç‰‡å¾®å†…æ ¸ (Chips Core) - ä¸­å¿ƒè·¯ç”±ç³»ç»Ÿ
- è–¯ç‰‡å…¬å…±åŸºç¡€å±‚ (Chips Foundation) - é€šç”¨åŠŸèƒ½æ¨¡å—
- è–¯ç‰‡ç»„ä»¶åº“ (Chips Components) - UIç»„ä»¶

**å‚è€ƒæ–‡æ¡£**:
- [ç”Ÿæ€è®¾è®¡åŸç¨¿ - 04-å¡ç‰‡ç¼–è¾‘å¼•æ“è®¾è®¡](../ç”Ÿæ€è®¾è®¡åŸç¨¿ï¼ˆä¸€åˆ‡æ ‡å‡†ï¼‰/04-å¡ç‰‡ç¼–è¾‘å¼•æ“è®¾è®¡.md)
- [ç”Ÿæ€è®¾è®¡åŸç¨¿ - 32-å…¬å…±åŸºç¡€å±‚è®¾è®¡](../ç”Ÿæ€è®¾è®¡åŸç¨¿ï¼ˆä¸€åˆ‡æ ‡å‡†ï¼‰/32-å…¬å…±åŸºç¡€å±‚è®¾è®¡.md)
- [å…¬å…±åŸºç¡€å±‚æ–‡æ¡£](../Chips-Foundation/)
- [è–¯ç‰‡ç»„ä»¶åº“æ–‡æ¡£](../Chips-ComponentLibrary/)
- [ç”Ÿæ€å…±ç”¨å¼€å‘è§„èŒƒ](../ç”Ÿæ€å…±ç”¨/08-å¼€å‘è§„èŒƒæ€»åˆ™.md)

---

## 1. æ¶æ„è§„èŒƒ

### 1.1 ä¸­å¿ƒè·¯ç”±åŸåˆ™ â­ æœ€é«˜ä¼˜å…ˆçº§

**å¼ºåˆ¶è¦æ±‚**:
- âœ… æ‰€æœ‰æ¨¡å—é—´é€šä¿¡**å¿…é¡»**é€šè¿‡è–¯ç‰‡å¾®å†…æ ¸è·¯ç”±
- âŒ **ç¦æ­¢**æ¨¡å—ä¹‹é—´ç›´æ¥è°ƒç”¨æˆ–é€šä¿¡
- âœ… æ‰€æœ‰å¤–éƒ¨è¾“å…¥**å¿…é¡»**ç»è¿‡å†…æ ¸ç»Ÿä¸€å…¥å£
- âœ… ç¼–è¾‘å¼•æ“ä¸ç›´æ¥ä¾èµ–å…¬å…±åŸºç¡€å±‚
- âœ… ç¼–è¾‘å¼•æ“ä¸ç›´æ¥ä¾èµ–æ’ä»¶ç³»ç»Ÿ
- âœ… æ‰€æœ‰è°ƒç”¨é€šè¿‡ @chips/sdk

**å®ç°è¦æ±‚**:
```typescript
// âœ… æ­£ç¡®ï¼šé€šè¿‡å¾®å†…æ ¸è·¯ç”±
import { Core } from '@chips/sdk';

const response = await Core.request({
  service: "card.read",
  payload: { cardId: "a1B2c3D4e5" }
});

const videoResponse = await Core.request({
  service: "foundation.video-player.create",
  payload: {
    container: elementId,
    videoPath: "video.mp4"
  }
});

// âŒ é”™è¯¯ï¼šç›´æ¥è°ƒç”¨
import { VideoPlayer } from '@chips/foundation';
VideoPlayer.create("video.mp4");  // ç¦æ­¢ï¼

import { CardReader } from './modules/card-reader';
CardReader.read(cardId);  // ç¦æ­¢ï¼
```

**è¿è§„æ£€æŸ¥**:
- ä»£ç å®¡æŸ¥å¿…é¡»æ£€æŸ¥æ˜¯å¦æœ‰ç›´æ¥æ¨¡å—è°ƒç”¨
- CI/CD ä¸­é›†æˆé™æ€åˆ†æå·¥å…·æ£€æµ‹è·¨æ¨¡å—å¼•ç”¨
- ESLint è§„åˆ™ç¦æ­¢å¯¼å…¥åŸºç¡€å±‚å’Œæ’ä»¶æ¨¡å—

---

### 1.2 å®Œå…¨ä½¿ç”¨å…¬å…±åŸºç¡€å±‚

**å¼ºåˆ¶è¦æ±‚**:
- âœ… æ‰€æœ‰åŸºç¡€åŠŸèƒ½å¿…é¡»è°ƒç”¨å…¬å…±åŸºç¡€å±‚
- âŒ **ç¦æ­¢**é‡å¤å®ç°åŸºç¡€åŠŸèƒ½
- âœ… é€šè¿‡å¾®å†…æ ¸è·¯ç”±è°ƒç”¨åŸºç¡€å±‚

**åŸºç¡€å±‚è°ƒç”¨æ¸…å•**:

**åª’ä½“åŠŸèƒ½**:
```typescript
// âœ… æ­£ç¡®ï¼šè°ƒç”¨åŸºç¡€å±‚è§†é¢‘æ’­æ”¾å™¨
await Core.request({
  service: "foundation.video-player.create",
  payload: { ... }
});

// âŒ é”™è¯¯ï¼šè‡ªå·±å®ç°è§†é¢‘æ’­æ”¾
class VideoPlayer { ... }  // ç¦æ­¢ï¼åŸºç¡€å±‚å·²æä¾›
```

**æ–‡æœ¬å¤„ç†**:
```typescript
// âœ… æ­£ç¡®ï¼šè°ƒç”¨åŸºç¡€å±‚Markdownè§£æå™¨
await Core.request({
  service: "foundation.markdown.parse",
  payload: { markdown: content }
});

// âŒ é”™è¯¯ï¼šè‡ªå·±å®ç°Markdownè§£æ
import marked from 'marked';  // ç¦æ­¢ï¼åº”ä½¿ç”¨åŸºç¡€å±‚
```

**æ–‡ä»¶å¤„ç†**:
```typescript
// âœ… æ­£ç¡®ï¼šè°ƒç”¨åŸºç¡€å±‚ZIPå¤„ç†å™¨
await Core.request({
  service: "foundation.zip-processor.create",
  payload: { files, outputPath }
});

// âŒ é”™è¯¯ï¼šè‡ªå·±å®ç°ZIPå¤„ç†
import JSZip from 'jszip';  // ç¦æ­¢ï¼åº”ä½¿ç”¨åŸºç¡€å±‚
```

**ç•Œé¢åŠŸèƒ½**:
```typescript
// âœ… æ­£ç¡®ï¼šè°ƒç”¨åŸºç¡€å±‚æ‹–æ‹½ç³»ç»Ÿ
await Core.request({
  service: "foundation.drag-drop.register-source",
  payload: { ... }
});

// âŒ é”™è¯¯ï¼šè‡ªå·±å®ç°æ‹–æ‹½
import { useDrag } from 'react-dnd';  // ç¦æ­¢ï¼åº”ä½¿ç”¨åŸºç¡€å±‚
```

**æ£€æŸ¥æ¸…å•**:
- [ ] è§†é¢‘æ’­æ”¾ä½¿ç”¨ foundation.video-player
- [ ] éŸ³é¢‘æ’­æ”¾ä½¿ç”¨ foundation.audio-player
- [ ] å›¾ç‰‡æ˜¾ç¤ºä½¿ç”¨ foundation.image-viewer
- [ ] å¯Œæ–‡æœ¬æ¸²æŸ“ä½¿ç”¨ foundation.rich-text
- [ ] Markdownè§£æä½¿ç”¨ foundation.markdown
- [ ] ä»£ç é«˜äº®ä½¿ç”¨ foundation.code-highlighter
- [ ] æ–‡æœ¬ç¼–è¾‘ä½¿ç”¨ foundation.text-editor
- [ ] ZIPå¤„ç†ä½¿ç”¨ foundation.zip-processor
- [ ] æ–‡ä»¶è¯†åˆ«ä½¿ç”¨ foundation.file-identifier
- [ ] æ‹–æ‹½ç³»ç»Ÿä½¿ç”¨ foundation.drag-drop
- [ ] çª—å£ç®¡ç†ä½¿ç”¨ foundation.window-manager
- [ ] æ—¥å¿—è®°å½•ä½¿ç”¨ foundation.log
- [ ] é…ç½®ç®¡ç†ä½¿ç”¨ foundation.config
- [ ] å¤šè¯­è¨€ä½¿ç”¨ foundation.i18n

---

### 1.3 å®Œå…¨ä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“

**å¼ºåˆ¶è¦æ±‚**:
- âœ… æ‰€æœ‰ç•Œé¢å¿…é¡»ä½¿ç”¨ @chips/components æ„å»º
- âŒ **ç¦æ­¢**ä½¿ç”¨å…¶ä»–UIæ¡†æ¶ï¼ˆå¦‚Ant Designã€Elementç­‰ï¼‰
- âŒ **ç¦æ­¢**è‡ªå·±å®ç°é‡å¤çš„UIç»„ä»¶
- âœ… éµå¾ªç»„ä»¶åº“çš„åŠŸèƒ½ä¸æ ·å¼åˆ†ç¦»åŸåˆ™

**ç»„ä»¶ä½¿ç”¨è§„èŒƒ**:
```vue
<template>
  <!-- âœ… æ­£ç¡®ï¼šä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“ -->
  <ThemeProvider :theme="currentTheme">
    <div class="editor-layout">
      <Button type="primary" @click="handleSave">
        {{ t('common.save') }}
      </Button>
      
      <Input 
        v-model="cardName"
        :placeholder="t('input.card_name')"
      />
      
      <Tree 
        :data="fileTree"
        @select="handleFileSelect"
      />
      
      <Modal 
        :visible="settingsVisible"
        :title="t('settings.title')"
      >
        <Form>
          <!-- è®¾ç½®è¡¨å• -->
        </Form>
      </Modal>
    </div>
  </ThemeProvider>
</template>

<script setup lang="ts">
// âœ… æ­£ç¡®ï¼šä»è–¯ç‰‡ç»„ä»¶åº“å¯¼å…¥
import {
  Button,
  Input,
  Tree,
  Modal,
  Form,
  ThemeProvider
} from '@chips/components';

// âŒ é”™è¯¯ï¼šä½¿ç”¨å…¶ä»–UIåº“
import { Button } from 'ant-design-vue';  // ç¦æ­¢ï¼
import { ElButton } from 'element-plus';  // ç¦æ­¢ï¼

// âŒ é”™è¯¯ï¼šè‡ªå·±å®ç°ç»„ä»¶
const CustomButton = defineComponent({ ... });  // ç¦æ­¢ï¼åº”ä½¿ç”¨ç»„ä»¶åº“
</script>

<!-- âŒ ç¦æ­¢ï¼šåŒ…å«æ ·å¼ä»£ç  -->
<style scoped>
.button {
  background: #1890ff;  /* ç¦æ­¢ï¼æ ·å¼ç”±ä¸»é¢˜åŒ…æä¾› */
}
</style>
```

**ç»„ä»¶åº“ä½¿ç”¨æ¸…å•**:
- [ ] Buttonã€Inputã€Selectç­‰åŸºç¡€äº¤äº’ç»„ä»¶
- [ ] Gridã€Flexã€Containerç­‰å¸ƒå±€ç»„ä»¶
- [ ] Treeã€Listã€Tableç­‰æ•°æ®å±•ç¤ºç»„ä»¶
- [ ] Modalã€Messageã€Notificationç­‰åé¦ˆç»„ä»¶
- [ ] Menuã€Tabsã€Breadcrumbç­‰å¯¼èˆªç»„ä»¶
- [ ] ThemeProviderä¸»é¢˜æä¾›è€…
- [ ] ChipsProviderå†…æ ¸è¿æ¥æä¾›è€…
- [ ] ErrorBoundaryé”™è¯¯è¾¹ç•Œ
- [ ] 26ç§åŸºç¡€å¡ç‰‡æ¸²æŸ“ç»„ä»¶ï¼ˆMarkdownCardã€ImageCardç­‰ï¼‰

**è¿è§„æ£€æŸ¥**:
- ä»£ç å®¡æŸ¥å¿…é¡»æ£€æŸ¥æ˜¯å¦ä½¿ç”¨å…¶ä»–UIåº“
- ä»£ç å®¡æŸ¥å¿…é¡»æ£€æŸ¥æ˜¯å¦æœ‰è‡ªå®šä¹‰é‡å¤ç»„ä»¶
- ä»£ç å®¡æŸ¥å¿…é¡»æ£€æŸ¥æ˜¯å¦åŒ…å«æ ·å¼ä»£ç ï¼ˆç¦æ­¢ `<style>` æ ‡ç­¾ï¼‰
- CI/CD é›†æˆæ£€æŸ¥å·¥å…·

---

### 1.4 æ¨¡å—åŒ–è®¾è®¡

**è¦æ±‚**:
- æ¯ä¸ªåŠŸèƒ½æ¨¡å—å¿…é¡»ç‹¬ç«‹å¯æ›¿æ¢
- æ¨¡å—åªé€šè¿‡æ ‡å‡†æ¥å£å¯¹å¤–æš´éœ²
- æ¨¡å—å†…éƒ¨å®ç°å¯¹å¤–éƒ¨å®Œå…¨é€æ˜

**æ¨¡å—ç»„ç»‡**:
```
src/
â”œâ”€â”€ core/              # æ ¸å¿ƒæ¨¡å—ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ LayoutManager.ts
â”‚   â”œâ”€â”€ WindowManager.ts
â”‚   â”œâ”€â”€ FileManager.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ services/          # æœåŠ¡å±‚ï¼ˆå°è£…å¾®å†…æ ¸è°ƒç”¨ï¼‰
â”‚   â”œâ”€â”€ CardService.ts
â”‚   â”œâ”€â”€ ResourceService.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ components/        # Vueç»„ä»¶ï¼ˆä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“ï¼‰
â”‚   â”œâ”€â”€ CardWindow.vue
â”‚   â”œâ”€â”€ FileManager.vue
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ stores/            # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ editor.ts
â”‚   â”œâ”€â”€ windows.ts
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
    â”œâ”€â”€ window.ts
    â”œâ”€â”€ card.ts
    â””â”€â”€ ...
```

---

### 1.5 å‰åç«¯åˆ†ç¦»

**å¼ºåˆ¶è¦æ±‚**:
- âœ… å‰ç«¯åªè´Ÿè´£UIå±•ç¤ºå’Œäº¤äº’
- âœ… åç«¯ï¼ˆé€šè¿‡å¾®å†…æ ¸ï¼‰åªè´Ÿè´£ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¤„ç†
- âŒ å‰ç«¯**ç¦æ­¢**åŒ…å«ä¸šåŠ¡é€»è¾‘ä»£ç 
- âŒ åç«¯**ç¦æ­¢**åŒ…å«UIä»£ç 

**é€šä¿¡æ–¹å¼**:
- å‰åç«¯é€šè¿‡è–¯ç‰‡SDKå’Œå¾®å†…æ ¸è·¯ç”±é€šä¿¡
- ä½¿ç”¨æ ‡å‡†åŒ–çš„è¯·æ±‚/å“åº”æ ¼å¼
- éµå¾ªè–¯ç‰‡åè®®è§„èŒƒ

---

## 2. å¤šè¯­è¨€è§„èŒƒ â­ æ ¸å¿ƒè§„èŒƒ

### 2.1 é›¶ç¡¬ç¼–ç åŸåˆ™

**ç»å¯¹ç¦æ­¢**:
```vue
<template>
  <!-- âŒ ç¦æ­¢ï¼šç¡¬ç¼–ç æ–‡æœ¬ -->
  <Button>ç¡®å®š</Button>
  <div>ä¿å­˜æˆåŠŸ</div>
</template>

<script>
// âŒ ç¦æ­¢ï¼šç¡¬ç¼–ç æ–‡æœ¬
alert("ä¿å­˜æˆåŠŸ");
console.log("åŠ è½½å®Œæˆ");
throw new Error("æ–‡ä»¶æœªæ‰¾åˆ°");
</script>
```

**æ­£ç¡®åšæ³•**:
```vue
<template>
  <!-- âœ… æ­£ç¡®ï¼šä½¿ç”¨å¤šè¯­è¨€ç¼–ç  -->
  <Button>{{ t('i18n.core.000001') }}</Button>
  <div>{{ t('i18n.ui.100050') }}</div>
</template>

<script setup lang="ts">
import { useTranslation } from '@chips/components';

const { t } = useTranslation();

// âœ… æ­£ç¡®ï¼šä½¿ç”¨å¤šè¯­è¨€ç³»ç»Ÿ
alert(t('i18n.ui.100050'));
console.log(t('i18n.log.001'));
throw new Error(t('i18n.error.010001'));
</script>
```

### 2.2 å¼€å‘é˜¶æ®µä½¿ç”¨

**å¼€å‘æ—¶ä½¿ç”¨å¯è¯»çš„key**:
```vue
<template>
  <!-- å¼€å‘é˜¶æ®µä½¿ç”¨å¯è¯»çš„key -->
  <Button>{{ t('common.ok') }}</Button>
  <div>{{ t('message.save_success') }}</div>
</template>
```

**æ‰“åŒ…æ—¶è‡ªåŠ¨æ›¿æ¢**:
```bash
# æ„å»ºå·¥å…·è‡ªåŠ¨æ›¿æ¢
npm run build

# common.ok â†’ i18n.core.000001
# message.save_success â†’ i18n.ui.100050
```

### 2.3 é…ç½®è¡¨ç®¡ç†

**æ‰€æœ‰æ–‡æœ¬å¿…é¡»åœ¨é…ç½®è¡¨ä¸­**:
```yaml
# dev_i18n.yaml (å¼€å‘é˜¶æ®µç»´æŠ¤)
common:
  ok: "ç¡®å®š"
  cancel: "å–æ¶ˆ"
  save: "ä¿å­˜"
  delete: "åˆ é™¤"
  close: "å…³é—­"

message:
  save_success: "ä¿å­˜æˆåŠŸ"
  save_failed: "ä¿å­˜å¤±è´¥"
  file_not_found: "æ–‡ä»¶æœªæ‰¾åˆ°"

error:
  window_not_found: "çª—å£ä¸å­˜åœ¨"
  plugin_load_failed: "æ’ä»¶åŠ è½½å¤±è´¥"
  invalid_coordinates: "åæ ‡æ— æ•ˆ"

editor:
  untitled_card: "æœªå‘½åå¡ç‰‡"
  loading: "åŠ è½½ä¸­..."
  no_selection: "æœªé€‰æ‹©åŸºç¡€å¡ç‰‡"
```

**å¼ºåˆ¶æ£€æŸ¥**:
- CI/CDä¸­æ£€æŸ¥æ˜¯å¦æœ‰ç¡¬ç¼–ç å­—ç¬¦ä¸²
- ä»£ç å®¡æŸ¥å¿…é¡»éªŒè¯æ‰€æœ‰æ–‡æœ¬éƒ½ä½¿ç”¨ t() å‡½æ•°
- ESLintè§„åˆ™æ£€æŸ¥ç¡¬ç¼–ç 

---

## 3. ä»£ç è§„èŒƒ

### 3.1 å‘½åè§„èŒƒ

**é€šç”¨è§„èŒƒ**:
- ç±»åï¼šPascalCaseï¼ˆå¤§é©¼å³°ï¼‰- `LayoutManager`, `WindowManager`
- å‡½æ•°/æ–¹æ³•ï¼šcamelCaseï¼ˆå°é©¼å³°ï¼‰- `createWindow`, `loadLayout`
- å¸¸é‡ï¼šUPPER_SNAKE_CASE - `MAX_WINDOWS`, `DEFAULT_SCALE`
- å˜é‡ï¼šcamelCase - `cardId`, `windowManager`
- æ–‡ä»¶åï¼škebab-caseï¼ˆçŸ­æ¨ªçº¿ï¼‰- `window-manager.ts`, `card-window.vue`
- Vueç»„ä»¶æ–‡ä»¶åï¼šPascalCase - `CardWindow.vue`, `EditPanel.vue`

**ç¤ºä¾‹**:
```typescript
// âœ… æ­£ç¡®
export class LayoutManager { }
export function createWindow() { }
export const MAX_SCALE = 5.0;
let cardId = "a1B2c3D4e5";
// æ–‡ä»¶å: layout-manager.ts

// âŒ é”™è¯¯
export class layout_manager { }
export function CreateWindow() { }
export const maxScale = 5.0;
let CardId = "a1B2c3D4e5";
```

---

### 3.2 æ³¨é‡Šè§„èŒƒ

**å¿…é¡»æ³¨é‡Šçš„å†…å®¹**:
- æ‰€æœ‰å…¬å…±APIçš„æ–‡æ¡£æ³¨é‡Š
- å¤æ‚ç®—æ³•çš„å®ç°è¯´æ˜ï¼ˆå¦‚åæ ‡è½¬æ¢ï¼‰
- éæ˜¾è€Œæ˜“è§çš„ä»£ç é€»è¾‘
- TODO/FIXMEæ ‡è®°

**æ³¨é‡Šæ ¼å¼**:
```typescript
/**
 * ç¼©æ”¾åˆ°æŒ‡å®šçº§åˆ«ï¼Œä¿æŒç¼©æ”¾ä¸­å¿ƒä½ç½®ä¸å˜
 * 
 * ç®—æ³•è¯´æ˜:
 * 1. è®¡ç®—ç¼©æ”¾ä¸­å¿ƒåœ¨ä¸–ç•Œåæ ‡ä¸­çš„ä½ç½®ï¼ˆä½¿ç”¨æ—§scaleï¼‰
 * 2. åº”ç”¨æ–°scale
 * 3. è°ƒæ•´translateï¼Œä½¿ç¼©æ”¾ä¸­å¿ƒä¿æŒåœ¨ç›¸åŒçš„å±å¹•ä½ç½®
 * 
 * @param newScale æ–°çš„ç¼©æ”¾çº§åˆ«ï¼ˆ0.1-5.0ï¼‰
 * @param centerX ç¼©æ”¾ä¸­å¿ƒçš„å±å¹•Xåæ ‡
 * @param centerY ç¼©æ”¾ä¸­å¿ƒçš„å±å¹•Yåæ ‡
 * 
 * @example
 * ```typescript
 * // ä»¥é¼ æ ‡ä½ç½®ä¸ºä¸­å¿ƒç¼©æ”¾åˆ°2å€
 * zoomTo(2.0, event.clientX, event.clientY);
 * ```
 */
zoomTo(newScale: number, centerX: number, centerY: number): void {
  // å®ç°...
}
```

**æ³¨é‡Šå¤šè¯­è¨€**:
- æ–‡æ¡£æ³¨é‡Šä½¿ç”¨ä¸­æ–‡
- ä»£ç å†…è”æ³¨é‡Šä½¿ç”¨ä¸­æ–‡
- APIæ–‡æ¡£åŒæ—¶æä¾›ä¸­è‹±æ–‡

---

### 3.3 é”™è¯¯å¤„ç†

**ç»Ÿä¸€é”™è¯¯ç **:
```typescript
// ä½¿ç”¨æ ‡å‡†é”™è¯¯ç 
export enum EditorErrorCode {
  WINDOW_NOT_FOUND = 'E_EDITOR_001',
  PLUGIN_LOAD_FAILED = 'E_EDITOR_020',
  FILE_SAVE_FAILED = 'E_EDITOR_030',
  // ...
}

// æŠ›å‡ºé”™è¯¯
throw new EditorError(
  EditorErrorCode.FILE_SAVE_FAILED,
  t('i18n.error.210001'),
  { fileId, reason }
);
```

**é”™è¯¯å¤„ç†è¦æ±‚**:
- æ‰€æœ‰å¼‚æ­¥æ“ä½œå¿…é¡»å¤„ç†é”™è¯¯
- ä¸å…è®¸ç©ºcatchå—
- å…³é”®æ“ä½œå¿…é¡»è®°å½•æ—¥å¿—ï¼ˆé€šè¿‡å¾®å†…æ ¸ï¼‰

```typescript
// âœ… æ­£ç¡®
try {
  const response = await Core.request({
    service: "card.read",
    payload: { cardId }
  });
  
  // å¤„ç†å“åº”
  
} catch (error) {
  // è®°å½•æ—¥å¿—ï¼ˆé€šè¿‡å¾®å†…æ ¸ï¼‰
  await Core.request({
    service: "foundation.log.write",
    payload: {
      level: "error",
      message: "Failed to read card",
      context: { cardId, error }
    }
  });
  
  // æ˜¾ç¤ºé”™è¯¯ï¼ˆä½¿ç”¨ç»„ä»¶åº“ï¼‰
  Message.error(t('error.read_card_failed'));
  
  throw new EditorError(
    EditorErrorCode.FILE_READ_FAILED,
    error.message,
    { cardId }
  );
}

// âŒ é”™è¯¯
try {
  await doSomething();
} catch (error) {
  // ç©ºcatch - ç¦æ­¢ï¼
}
```

---

## 4. Vue 3 å¼€å‘è§„èŒƒ

### 4.1 ç»„ä»¶è®¾è®¡è§„èŒƒ

**ç»„ä»¶èŒè´£å•ä¸€**:
```vue
<!-- âœ… æ­£ç¡®ï¼šèŒè´£å•ä¸€çš„ç»„ä»¶ -->
<!-- CardWindow.vue - åªè´Ÿè´£æ˜¾ç¤ºå¡ç‰‡çª—å£ -->
<script setup lang="ts">
interface Props {
  window: Window;
}

const props = defineProps<Props>();

const emit = defineEmits<{
  move: [windowId: string, position: Position];
  close: [windowId: string];
}>();
</script>

<!-- âŒ é”™è¯¯ï¼šæ··åˆå¤šä¸ªèŒè´£ -->
<!-- ä¸è¦åœ¨ä¸€ä¸ªç»„ä»¶ä¸­åŒæ—¶å¤„ç†çª—å£ç®¡ç†ã€æ–‡ä»¶ç®¡ç†ã€ç¼–è¾‘ç­‰ -->
```

**Propså’ŒEmitsç±»å‹åŒ–**:
```typescript
// âœ… æ­£ç¡®ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰
interface CardWindowProps {
  window: Window;
  editable?: boolean;
}

const props = withDefaults(defineProps<CardWindowProps>(), {
  editable: true
});

const emit = defineEmits<{
  focus: [windowId: string];
  move: [windowId: string, position: Position];
  resize: [windowId: string, size: Size];
  close: [windowId: string];
}>();

// âŒ é”™è¯¯ï¼šæ— ç±»å‹
defineProps(['window', 'editable']);  // ç¦æ­¢ï¼
defineEmits(['focus', 'move']);  // ç¦æ­¢ï¼
```

---

### 4.2 çŠ¶æ€ç®¡ç†è§„èŒƒ

**ä½¿ç”¨Pinia**:
```typescript
// stores/editor.ts
import { defineStore } from 'pinia';

export const useEditorStore = defineStore('editor', {
  state: () => ({
    initialized: false,
    core: null as Core | null,
    currentLayoutId: 'infinite-canvas'
  }),
  
  getters: {
    isReady: (state) => state.initialized && state.core !== null
  },
  
  actions: {
    async initialize() {
      // åˆå§‹åŒ–å¾®å†…æ ¸è¿æ¥
      this.core = await Core.initialize({
        appId: "chips.editor",
        version: "2.0.0"
      });
      
      this.initialized = true;
    }
  }
});
```

**é¿å…ç›´æ¥ä¿®æ”¹state**:
```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨Actionä¿®æ”¹
const editorStore = useEditorStore();
await editorStore.initialize();

// âŒ é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹
editorStore.initialized = true;  // ç¦æ­¢ï¼åº”ä½¿ç”¨Action
```

---

### 4.3 ç»„åˆå¼APIè§„èŒƒ

**ä½¿ç”¨Composition API**:
```vue
<script setup lang="ts">
import { ref, computed, onMounted, watch } from 'vue';
import { useEditorStore } from '@/stores/editor';

// State
const cardName = ref('');
const loading = ref(false);

// Computed
const isValid = computed(() => cardName.value.trim() !== '');

// Lifecycle
onMounted(async () => {
  await loadData();
});

// Watch
watch(cardName, async (newName) => {
  await saveCardName(newName);
});

// Methods
async function loadData() {
  loading.value = true;
  try {
    const response = await Core.request({
      service: "card.read",
      payload: { cardId }
    });
    cardName.value = response.card.metadata.name;
  } finally {
    loading.value = false;
  }
}
</script>
```

**ç¦æ­¢ä½¿ç”¨Options API**:
```typescript
// âŒ é”™è¯¯ï¼šä½¿ç”¨Options API
export default {
  data() { return { ... }; },  // ç¦æ­¢ï¼
  methods: { ... },  // ç¦æ­¢ï¼
  computed: { ... }  // ç¦æ­¢ï¼
};
```

---

### 4.4 æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

**ä½¿ç”¨computedç¼“å­˜**:
```vue
<script setup lang="ts">
// âœ… æ­£ç¡®ï¼šä½¿ç”¨computedç¼“å­˜è®¡ç®—ç»“æœ
const buttonClass = computed(() => [
  'chips-button',
  `chips-button--${props.type}`,
  { 'chips-button--disabled': props.disabled }
]);

// âŒ é”™è¯¯ï¼šåœ¨æ¨¡æ¿ä¸­è°ƒç”¨å‡½æ•°
const getButtonClass = () => { ... };  // æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œ
</script>

<template>
  <!-- âœ… ä½¿ç”¨computed -->
  <button :class="buttonClass">æŒ‰é’®</button>
  
  <!-- âŒ é¿å…åœ¨æ¨¡æ¿ä¸­è°ƒç”¨å‡½æ•° -->
  <button :class="getButtonClass()">æŒ‰é’®</button>
</template>
```

**ä½¿ç”¨shallowRefé¿å…æ·±åº¦å“åº”å¼**:
```typescript
// âœ… å¯¹äºå¤§å‹å¯¹è±¡ä½¿ç”¨shallowRef
const largeData = shallowRef<LargeData>({ ... });

// âŒ é¿å…æ·±åº¦å“åº”å¼å¤§å¯¹è±¡
const largeData = ref<LargeData>({ ... });  // æ€§èƒ½å·®
```

**è™šæ‹Ÿæ»šåŠ¨**:
```vue
<template>
  <!-- âœ… ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ -->
  <VirtualList 
    :data="files"
    :item-height="50"
    :buffer-size="5"
  >
    <template #item="{ item }">
      <FileItem :file="item" />
    </template>
  </VirtualList>
  
  <!-- âŒ é¿å…æ¸²æŸ“æ‰€æœ‰é¡¹ -->
  <div v-for="file in files" :key="file.id">
    <FileItem :file="file" />  <!-- æ•°åƒé¡¹æ—¶æ€§èƒ½å·® -->
  </div>
</template>
```

**æ‡’åŠ è½½ç»„ä»¶**:
```typescript
// âœ… æ‡’åŠ è½½å¤§ç»„ä»¶
const EditPanel = defineAsyncComponent(() => 
  import('./EditPanel.vue')
);

const Settings = defineAsyncComponent(() =>
  import('./Settings.vue')
);
```

---

## 5. ç¼–è¾‘å™¨ç‰¹å®šå¼€å‘è§„èŒƒ

### 5.1 æ— é™ç”»å¸ƒå®ç°è§„èŒƒ

**ä¸¤å±‚æ¶æ„**:
```vue
<template>
  <!-- âœ… æ­£ç¡®ï¼šä¸¤å±‚æ¸…æ™°åˆ†ç¦» -->
  <div class="infinite-canvas-layout">
    <!-- æ¡Œé¢å±‚ -->
    <div class="desktop-layer">
      <canvas id="desktop-background"></canvas>
      <div 
        id="desktop-content"
        class="desktop-content"
        :style="desktopTransform"
      >
        <!-- å¡ç‰‡å’Œç®±å­çª—å£ -->
        <CardWindow 
          v-for="window in desktopWindows"
          :key="window.id"
          :window="window"
        />
      </div>
    </div>
    
    <!-- çª—å£å±‚ -->
    <div class="window-layer">
      <!-- å·¥å…·çª—å£ -->
      <Drawer :visible="fileManagerVisible">
        <FileManager />
      </Drawer>
      
      <Dock :tools="tools" />
      <ZoomControl v-model="scale" />
    </div>
  </div>
</template>

<script setup lang="ts">
const desktopTransform = computed(() => ({
  transform: `translate(${translateX.value}px, ${translateY.value}px) scale(${scale.value})`,
  transformOrigin: '0 0'
}));
</script>

<!-- âŒ ç¦æ­¢åŒ…å«æ ·å¼ -->
```

---

**åæ ‡è½¬æ¢**:
```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨CoordinateSystemå·¥å…·
import { CoordinateSystem } from '@/utils/coordinates';

const worldPos = CoordinateSystem.screenToWorld(
  event.clientX,
  event.clientY,
  { scale: scale.value, translateX: translateX.value, translateY: translateY.value }
);

// âŒ é”™è¯¯ï¼šç›´æ¥ä½¿ç”¨å±å¹•åæ ‡
const position = { x: event.clientX, y: event.clientY };  // é”™è¯¯ï¼æœªè½¬æ¢
windowManager.createWindow(cardId, { position });
```

**ç¼©æ”¾ç®—æ³•**:
```typescript
// âœ… æ­£ç¡®ï¼šä¿æŒç¼©æ”¾ä¸­å¿ƒä¸å˜
function zoomTo(newScale: number, centerX: number, centerY: number): void {
  newScale = clamp(newScale, MIN_SCALE, MAX_SCALE);
  
  // è®¡ç®—ç¼©æ”¾ä¸­å¿ƒåœ¨ä¸–ç•Œåæ ‡ä¸­çš„ä½ç½®
  const worldX = (centerX - translateX.value) / scale.value;
  const worldY = (centerY - translateY.value) / scale.value;
  
  // åº”ç”¨æ–°ç¼©æ”¾
  scale.value = newScale;
  
  // è°ƒæ•´å¹³ç§»ï¼Œä½¿ç¼©æ”¾ä¸­å¿ƒä¿æŒåœ¨ç›¸åŒä½ç½®
  translateX.value = centerX - worldX * newScale;
  translateY.value = centerY - worldY * newScale;
}

// âŒ é”™è¯¯ï¼šç›´æ¥æ”¹scale
function zoomTo(newScale: number): void {
  scale.value = newScale;  // é”™è¯¯ï¼ç¼©æ”¾ä¸­å¿ƒä¼šè·³åŠ¨
}
```

---

### 5.2 çª—å£ç®¡ç†è§„èŒƒ

**Z-Indexç®¡ç†**:
```typescript
// âœ… æ­£ç¡®ï¼šåŠ¨æ€z-indexç®¡ç†
class WindowManager {
  private zIndexOrder: string[] = [];
  private baseZIndex = 1000;
  
  bringToFront(windowId: string): void {
    const index = this.zIndexOrder.indexOf(windowId);
    if (index !== -1) {
      this.zIndexOrder.splice(index, 1);
    }
    this.zIndexOrder.push(windowId);
    this.reassignZIndexes();
  }
  
  private reassignZIndexes(): void {
    for (let i = 0; i < this.zIndexOrder.length; i++) {
      const window = this.windows.get(this.zIndexOrder[i]);
      if (window) {
        window.zIndex = this.baseZIndex + i;
      }
    }
  }
}

// âŒ é”™è¯¯ï¼šç¡¬ç¼–ç z-index
element.style.zIndex = '9999';  // ç¦æ­¢ï¼
```

**çª—å£çŠ¶æ€æŒä¹…åŒ–**:
```typescript
// âœ… æ­£ç¡®ï¼šé˜²æŠ–ä¿å­˜çª—å£çŠ¶æ€
private debouncedSave = debounce(async (windowId: string) => {
  const window = this.windows.get(windowId);
  
  await Core.request({
    service: "config.set",
    payload: {
      key: `window.${windowId}.state`,
      value: {
        position: window.position,
        size: window.size,
        state: window.state
      }
    }
  });
}, 300);

moveWindow(windowId: string, position: Position): void {
  const window = this.windows.get(windowId);
  window.position = position;
  this.debouncedSave(windowId);  // é˜²æŠ–ä¿å­˜
}

// âŒ é”™è¯¯ï¼šæ¯æ¬¡éƒ½ä¿å­˜
moveWindow(windowId: string, position: Position): void {
  const window = this.windows.get(windowId);
  window.position = position;
  this.saveWindowState(windowId);  // é”™è¯¯ï¼é¢‘ç¹I/O
}
```

---

### 5.3 æ‹–æ‹½ç³»ç»Ÿè§„èŒƒ

**ä½¿ç”¨åŸºç¡€å±‚æ‹–æ‹½ç³»ç»Ÿ**:
```typescript
// âœ… æ­£ç¡®ï¼šé€šè¿‡å¾®å†…æ ¸è°ƒç”¨åŸºç¡€å±‚æ‹–æ‹½ç³»ç»Ÿ
await Core.request({
  service: "foundation.drag-drop.register-source",
  payload: {
    sourceId: "cardbox-items",
    type: "cardbox-item",
    elements: document.querySelectorAll('.cardbox-item'),
    onDragStart: this.handleDragStart,
    onDragEnd: this.handleDragEnd
  }
});

// âŒ é”™è¯¯ï¼šè‡ªå·±å®ç°æ‹–æ‹½
import { useDrag } from 'react-dnd';  // ç¦æ­¢ï¼
element.addEventListener('dragstart', ...);  // ç¦æ­¢ï¼
```

**æ‹–æ‹½åœºæ™¯è¯†åˆ«**:
```typescript
// âœ… æ­£ç¡®ï¼šæ˜ç¡®çš„æ‹–æ‹½ç±»å‹
enum DragSourceType {
  CARDBOX_ITEM = 'cardbox-item',
  FILE_SYSTEM = 'file-system',
  CARD_WINDOW = 'card-window',
  BASE_CARD = 'base-card',
  // ...
}

function canDrop(source: DragSource, target: DropTarget): boolean {
  return target.accepts.includes(source.type);
}

// âŒ é”™è¯¯ï¼šæ¨¡ç³Šåˆ¤æ–­
function canDrop(source: any, target: any): boolean {
  return true;  // é”™è¯¯ï¼æ²¡æœ‰éªŒè¯
}
```

**æœ€å°æ‹–æ‹½è·ç¦»**:
```typescript
// âœ… æ­£ç¡®ï¼šé¿å…è¯¯è§¦
const MIN_DRAG_DISTANCE = 5;

if (Math.abs(dx) < MIN_DRAG_DISTANCE && Math.abs(dy) < MIN_DRAG_DISTANCE) {
  return;  // ä¸è§¦å‘æ‹–æ‹½
}

// âŒ é”™è¯¯ï¼šä»»ä½•ç§»åŠ¨éƒ½è§¦å‘
onMouseMove = () => {
  startDrag();  // é”™è¯¯ï¼å®¹æ˜“è¯¯è§¦
};
```

---

### 5.4 æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

**è§†å£è£å‰ª**:
```typescript
// âœ… æ­£ç¡®ï¼šåªæ¸²æŸ“å¯è§çª—å£
function updateVisibility(): void {
  const viewportBounds = calculateViewportBounds();
  
  for (const window of windows.values()) {
    const isVisible = isWindowInViewport(window, viewportBounds);
    const element = document.getElementById(`window-${window.id}`);
    element.style.display = isVisible ? '' : 'none';
  }
}

// âŒ é”™è¯¯ï¼šæ¸²æŸ“æ‰€æœ‰çª—å£
function render(): void {
  for (const window of windows.values()) {
    renderWindow(window);  // é”™è¯¯ï¼æµªè´¹æ€§èƒ½
  }
}
```

**äº‹ä»¶èŠ‚æµ**:
```typescript
// âœ… æ­£ç¡®ï¼šé«˜é¢‘äº‹ä»¶å¿…é¡»èŠ‚æµ
const throttledUpdate = throttle(() => {
  updateVisibility();
}, 100);

const debouncedSave = debounce(() => {
  saveState();
}, 1000);

// âŒ é”™è¯¯ï¼šæ¯æ¬¡éƒ½æ‰§è¡Œ
onPanMove = (e: MouseEvent) => {
  updateVisibility();  // é”™è¯¯ï¼æ¯å¸§æ‰§è¡Œ
  saveState();  // é”™è¯¯ï¼é¢‘ç¹ä¿å­˜
};
```

**æ€§èƒ½æŒ‡æ ‡è¦æ±‚**:
- ç¼©æ”¾æ“ä½œï¼šâ‰¥ 60fps
- å¹³ç§»æ“ä½œï¼šâ‰¥ 60fps
- çª—å£æ•°é‡ï¼šæ”¯æŒ â‰¥100 ä¸ªçª—å£
- å†…å­˜å ç”¨ï¼šåˆç†é‡Šæ”¾èµ„æº

---

## 6. æµ‹è¯•è§„èŒƒ

### 6.1 æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

**ç¼–è¾‘å¼•æ“ç‰¹å®šè¦†ç›–ç‡**:
- æ ¸å¿ƒæ¨¡å—ï¼ˆLayoutManagerã€WindowManagerç­‰ï¼‰ï¼šâ‰¥ 90%
- æœåŠ¡å±‚ï¼ˆCardServiceç­‰ï¼‰ï¼šâ‰¥ 85%
- æ‹–æ‹½ç³»ç»Ÿï¼šâ‰¥ 85%
- åæ ‡è½¬æ¢ï¼šâ‰¥ 95%
- ä¿å­˜ç®¡ç†å™¨ï¼šâ‰¥ 90%
- Vueç»„ä»¶ï¼šâ‰¥ 70%

### 6.2 Mockå¾®å†…æ ¸

**æµ‹è¯•æ—¶Mockå¾®å†…æ ¸è°ƒç”¨**:
```typescript
// tests/WindowManager.test.ts
import { describe, it, expect, beforeEach, vi } from 'vitest';
import { WindowManager } from '@/core/WindowManager';

describe('WindowManager', () => {
  let windowManager: WindowManager;
  let mockCore: any;
  
  beforeEach(() => {
    // Mockå¾®å†…æ ¸
    mockCore = {
      request: vi.fn(),
      event: {
        publish: vi.fn(),
        subscribe: vi.fn()
      }
    };
    
    windowManager = new WindowManager(mockCore);
  });
  
  it('should create window through kernel', async () => {
    // Mockå¾®å†…æ ¸å“åº”
    mockCore.request.mockResolvedValueOnce({
      card: {
        id: 'a1B2c3D4e5',
        metadata: { name: 'æµ‹è¯•å¡ç‰‡' },
        structure: []
      }
    });
    
    // åˆ›å»ºçª—å£
    const window = await windowManager.createWindow('a1B2c3D4e5');
    
    // éªŒè¯é€šè¿‡å¾®å†…æ ¸è°ƒç”¨
    expect(mockCore.request).toHaveBeenCalledWith({
      service: 'card.read',
      payload: { cardId: 'a1B2c3D4e5', includeContent: true }
    });
    
    // éªŒè¯çª—å£åˆ›å»º
    expect(window).toBeDefined();
    expect(window.fileId).toBe('a1B2c3D4e5');
  });
});
```

---

### 6.3 å…³é”®æµ‹è¯•åœºæ™¯

**åæ ‡è½¬æ¢æµ‹è¯•**:
```typescript
describe('CoordinateSystem', () => {
  it('should convert screen to world coordinates correctly', () => {
    const screenPos = { x: 200, y: 200 };
    const transform = { scale: 2, translateX: 100, translateY: 100 };
    
    const worldPos = CoordinateSystem.screenToWorld(
      screenPos.x,
      screenPos.y,
      transform
    );
    
    expect(worldPos).toEqual({ x: 50, y: 50 });
  });
  
  it('should maintain zoom center position', () => {
    const transform = { scale: 1, translateX: 0, translateY: 0 };
    const centerX = 500;
    const centerY = 500;
    
    const newTransform = CoordinateSystem.calculateZoomTransform(
      transform,
      2.0,
      centerX,
      centerY
    );
    
    // éªŒè¯ç¼©æ”¾ä¸­å¿ƒåœ¨å±å¹•ä¸Šçš„ä½ç½®ä¸å˜
    const screenPos = CoordinateSystem.worldToScreen(
      250,  // åŸä¸–ç•Œåæ ‡ä¸­å¿ƒ
      250,
      newTransform
    );
    
    expect(screenPos.x).toBeCloseTo(centerX);
    expect(screenPos.y).toBeCloseTo(centerY);
  });
});
```

**çª—å£ç®¡ç†æµ‹è¯•**:
```typescript
describe('WindowManager', () => {
  it('should bring window to front when focused', async () => {
    const win1 = await windowManager.createWindow('card1');
    const win2 = await windowManager.createWindow('card2');
    
    await windowManager.focusWindow(win1.id);
    
    expect(win1.zIndex).toBeGreaterThan(win2.zIndex);
  });
  
  it('should handle 100 windows without performance issues', async () => {
    // åˆ›å»º100ä¸ªçª—å£
    const windows = [];
    for (let i = 0; i < 100; i++) {
      const window = await windowManager.createWindow(`card${i}`);
      windows.push(window);
    }
    
    // æµ‹è¯•èšç„¦æ€§èƒ½
    const start = performance.now();
    await windowManager.focusWindow(windows[50].id);
    const duration = performance.now() - start;
    
    expect(duration).toBeLessThan(100);  // <100ms
  });
});
```

---

## 7. Gitè§„èŒƒ

### 7.1 åˆ†æ”¯ç®¡ç†

**åˆ†æ”¯ç±»å‹**:
- `main`: ä¸»åˆ†æ”¯ï¼Œç”Ÿäº§ä»£ç 
- `develop`: å¼€å‘åˆ†æ”¯
- `feature/*`: åŠŸèƒ½åˆ†æ”¯
- `fix/*`: ä¿®å¤åˆ†æ”¯
- `refactor/*`: é‡æ„åˆ†æ”¯

**å‘½åè§„èŒƒ**:
```bash
feature/infinite-canvas-zoom
feature/edit-panel-system
fix/window-focus-bug
refactor/service-layer
```

### 7.2 æäº¤è§„èŒƒ

**Commitæ ¼å¼**:
```
<type>(<scope>): <subject>

<body>

<footer>
```

**Typeç±»å‹**:
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·

**ç¤ºä¾‹**:
```
feat(canvas): å®ç°æ— é™ç”»å¸ƒç¼©æ”¾åŠŸèƒ½

- é€šè¿‡å¾®å†…æ ¸è°ƒç”¨åŸºç¡€å±‚å˜æ¢ç³»ç»Ÿ
- å®ç°ä¿æŒç¼©æ”¾ä¸­å¿ƒä½ç½®çš„ç®—æ³•
- æ·»åŠ ç¼©æ”¾æ§åˆ¶å™¨ç»„ä»¶ï¼ˆä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“ï¼‰
- æ”¯æŒå¤šç§ç¼©æ”¾æ–¹å¼ï¼ˆæ»šè½®ã€æ‰‹åŠ¿ã€æ»‘å—ï¼‰

Closes #123
```

---

## 8. æ€§èƒ½è§„èŒƒ

### 8.1 æ€§èƒ½æŒ‡æ ‡ï¼ˆå¼ºåˆ¶ï¼‰

**å“åº”æ—¶é—´**:
- UIå“åº”æ—¶é—´ï¼š< 100ms
- æ–‡ä»¶æ‰“å¼€æ—¶é—´ï¼š< 1s
- å¸ƒå±€åˆ‡æ¢æ—¶é—´ï¼š< 500ms
- å¾®å†…æ ¸è·¯ç”±å»¶è¿Ÿï¼š< 10ms (P95)

**æ¸²æŸ“æ€§èƒ½**:
- æ‹–æ‹½å¸§ç‡ï¼šâ‰¥ 60fps
- ç¼©æ”¾å’Œå¹³ç§»ï¼šâ‰¥ 60fps
- çª—å£åŠ¨ç”»ï¼šâ‰¥ 60fps

**èµ„æºå ç”¨**:
- å†…å­˜å ç”¨ï¼šåŸºç¡€ < 200MBï¼Œæ¯çª—å£ < 50MB
- CPUç©ºé—²æ—¶æ¥è¿‘0%
- æ”¯æŒâ‰¥100ä¸ªçª—å£

### 8.2 ä¼˜åŒ–è¦æ±‚

**å¿…é¡»å®ç°**:
- è§†å£è£å‰ªï¼šåªæ¸²æŸ“å¯è§çª—å£
- LODï¼šæ ¹æ®ç¼©æ”¾çº§åˆ«è°ƒæ•´ç»†èŠ‚
- è™šæ‹Ÿæ»šåŠ¨ï¼šé•¿åˆ—è¡¨å¿…é¡»è™šæ‹ŸåŒ–
- æ‡’åŠ è½½ï¼šæŒ‰éœ€åŠ è½½ç»„ä»¶å’Œèµ„æº
- é˜²æŠ–èŠ‚æµï¼šé«˜é¢‘æ“ä½œå¿…é¡»ä¼˜åŒ–
- æ‰¹é‡è¯·æ±‚ï¼šé€šè¿‡å¾®å†…æ ¸æ‰¹é‡è°ƒç”¨

**ç›‘æ§**:
- ä½¿ç”¨Performance APIç›‘æ§æ€§èƒ½
- è®°å½•æ…¢æ“ä½œï¼ˆ>100msï¼‰
- å†…å­˜æ³„æ¼æ£€æµ‹

---

## 9. å®‰å…¨è§„èŒƒ

### 9.1 è¾“å…¥éªŒè¯

**æ‰€æœ‰ç”¨æˆ·è¾“å…¥å¿…é¡»éªŒè¯**:
```typescript
// âœ… æ­£ç¡®ï¼šéªŒè¯è¾“å…¥
async function renameFile(fileId: string, newName: string): Promise<void> {
  // éªŒè¯å¡ç‰‡ID
  if (!ValidationUtils.validateCardId(fileId)) {
    throw new EditorError(
      EditorErrorCode.DATA_VALIDATION_FAILED,
      t('error.invalid_card_id')
    );
  }
  
  // éªŒè¯æ–‡ä»¶å
  const validation = ValidationUtils.validateFileName(newName);
  if (!validation.valid) {
    throw new EditorError(
      EditorErrorCode.DATA_VALIDATION_FAILED,
      validation.error
    );
  }
  
  // é€šè¿‡å¾®å†…æ ¸æ›´æ–°
  await Core.request({
    service: "card.update",
    payload: {
      cardId: fileId,
      updates: { metadata: { name: newName } }
    }
  });
}
```

### 9.2 XSSé˜²æŠ¤

**ä½¿ç”¨ç»„ä»¶åº“çš„å®‰å…¨ç»„ä»¶**:
```vue
<template>
  <!-- âœ… æ­£ç¡®ï¼šä½¿ç”¨v-textæˆ–ç»„ä»¶åº“ -->
  <div v-text="userInput"></div>
  
  <!-- âŒ å±é™©ï¼šv-htmlæœªè½¬ä¹‰ -->
  <div v-html="userInput"></div>  <!-- ç¦æ­¢ï¼é™¤éä½¿ç”¨DOMPurify -->
</template>
```

### 9.3 æ’ä»¶æ²™ç®±

**æ’ä»¶éš”ç¦»**:
- æ’ä»¶é€šè¿‡å¼•æ“APIè®¿é—®åŠŸèƒ½ï¼ˆAPIå†…éƒ¨é€šè¿‡å¾®å†…æ ¸ï¼‰
- æ’ä»¶ä¸èƒ½ç›´æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿ
- æ’ä»¶ä¸èƒ½ç›´æ¥è®¿é—®ç½‘ç»œ
- æ’ä»¶æƒé™ç”±å¾®å†…æ ¸ç®¡ç†

---

## 10. æ—¥å¿—è§„èŒƒ

### 10.1 æ—¥å¿—çº§åˆ«

**ä½¿ç”¨æ ‡å‡†**ï¼ˆé€šè¿‡å¾®å†…æ ¸è®°å½•ï¼‰:
- ERRORï¼šé”™è¯¯å’Œå¼‚å¸¸
- WARNï¼šè­¦å‘Šä¿¡æ¯
- INFOï¼šé‡è¦äº‹ä»¶
- DEBUGï¼šè°ƒè¯•ä¿¡æ¯ï¼ˆç”Ÿäº§å…³é—­ï¼‰

### 10.2 æ—¥å¿—è®°å½•

**æ ‡å‡†æ ¼å¼**:
```typescript
// âœ… æ­£ç¡®ï¼šé€šè¿‡å¾®å†…æ ¸è®°å½•æ—¥å¿—
await Core.request({
  service: "foundation.log.write",
  payload: {
    level: "info",
    message: "Window created successfully",
    context: {
      windowId: window.id,
      fileId: window.fileId,
      position: window.position
    }
  }
});

// âŒ é”™è¯¯ï¼šä½¿ç”¨console.log
console.log('Window created');  // ç¦æ­¢ï¼åº”ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿ
```

**é‡è¦æ“ä½œå¿…é¡»è®°å½•**:
- æ–‡ä»¶åˆ›å»ºã€åˆ é™¤
- çª—å£æ“ä½œ
- æ’ä»¶åŠ è½½ã€å¸è½½
- å¸ƒå±€åˆ‡æ¢
- é”™è¯¯å’Œå¼‚å¸¸
- æ€§èƒ½é—®é¢˜

---

## 11. ä¾èµ–ç®¡ç†

### 11.1 ä¾èµ–æ¸…å•

**å…è®¸çš„ä¾èµ–**:
```json
{
  "dependencies": {
    "@chips/sdk": "^1.0.0",           // å¿…éœ€ï¼šè–¯ç‰‡SDK
    "@chips/components": "^1.0.0",    // å¿…éœ€ï¼šè–¯ç‰‡ç»„ä»¶åº“
    "vue": "^3.3.0",                  // å¿…éœ€ï¼šVue 3
    "pinia": "^2.1.0",                // å¿…éœ€ï¼šçŠ¶æ€ç®¡ç†
    "electron": "^28.0.0"             // å¿…éœ€ï¼šæ¡Œé¢æ¡†æ¶
  }
}
```

**ç¦æ­¢çš„ä¾èµ–**:
```json
{
  "dependencies": {
    "ant-design-vue": "...",          // âŒ ç¦æ­¢ï¼ä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“
    "element-plus": "...",            // âŒ ç¦æ­¢ï¼
    "video.js": "...",                // âŒ ç¦æ­¢ï¼ä½¿ç”¨åŸºç¡€å±‚
    "marked": "...",                  // âŒ ç¦æ­¢ï¼ä½¿ç”¨åŸºç¡€å±‚
    "jszip": "...",                   // âŒ ç¦æ­¢ï¼ä½¿ç”¨åŸºç¡€å±‚
    "react-dnd": "...",               // âŒ ç¦æ­¢ï¼ä½¿ç”¨åŸºç¡€å±‚
  }
}
```

### 11.2 ç‰ˆæœ¬é”å®š

**è¦æ±‚**:
- ä½¿ç”¨ pnpm-lock.yaml é”å®šç‰ˆæœ¬
- å®šæœŸæ›´æ–°ä¾èµ–
- åŠæ—¶ä¿®å¤å®‰å…¨æ¼æ´

---

## 12. CI/CDè§„èŒƒ

### 12.1 æŒç»­é›†æˆ

**å¿…é¡»åŒ…å«**:
```yaml
# .github/workflows/ci.yml
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18
      
      - name: Install pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 8
      
      - name: Install dependencies
        run: pnpm install
      
      - name: Lint
        run: pnpm lint
      
      - name: Type check
        run: pnpm type-check
      
      - name: Test
        run: pnpm test
      
      - name: Build
        run: pnpm build
      
      - name: Check architecture
        run: pnpm check:architecture  # æ£€æŸ¥æ˜¯å¦è¿åæ¶æ„è§„èŒƒ
```

**æ¶æ„æ£€æŸ¥è„šæœ¬**:
```typescript
// scripts/check-architecture.ts
// æ£€æŸ¥æ˜¯å¦æœ‰ç›´æ¥å¯¼å…¥åŸºç¡€å±‚æˆ–æ’ä»¶çš„ä»£ç 
// æ£€æŸ¥æ˜¯å¦æœ‰ç¡¬ç¼–ç æ–‡æœ¬
// æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†å…¶ä»–UIåº“
```

---

## 13. ä»£ç å®¡æŸ¥æ¸…å•

### 13.1 æ¶æ„å®¡æŸ¥

**å¿…é¡»æ£€æŸ¥**:
- [ ] æ˜¯å¦æ‰€æœ‰è°ƒç”¨éƒ½é€šè¿‡å¾®å†…æ ¸è·¯ç”±
- [ ] æ˜¯å¦æœ‰ç›´æ¥å¯¼å…¥åŸºç¡€å±‚æˆ–æ’ä»¶çš„ä»£ç 
- [ ] æ˜¯å¦å®Œå…¨ä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“æ„å»ºç•Œé¢
- [ ] æ˜¯å¦æœ‰ä½¿ç”¨å…¶ä»–UIæ¡†æ¶
- [ ] æ˜¯å¦æœ‰é‡å¤å®ç°åŸºç¡€åŠŸèƒ½

---

### 13.2 åŠŸèƒ½å®¡æŸ¥

**å¿…é¡»æ£€æŸ¥**:
- [ ] æ˜¯å¦æ­£ç¡®å®ç°ä¸¤å±‚æ¶æ„ï¼ˆæ— é™ç”»å¸ƒï¼‰
- [ ] æ˜¯å¦æ­£ç¡®è½¬æ¢åæ ‡ç³»ç»Ÿ
- [ ] æ˜¯å¦å®ç°è§†å£è£å‰ªä¼˜åŒ–
- [ ] æ‹–æ‹½æ˜¯å¦æœ‰æ¸…æ™°çš„è§†è§‰åé¦ˆ
- [ ] çª—å£çŠ¶æ€æ˜¯å¦æ­£ç¡®æŒä¹…åŒ–
- [ ] æ˜¯å¦å®ç°é˜²æŠ–ä¿å­˜
- [ ] æ˜¯å¦æ”¯æŒå¤šç§è¾“å…¥è®¾å¤‡

---

### 13.3 ä»£ç è´¨é‡å®¡æŸ¥

**å¿…é¡»æ£€æŸ¥**:
- [ ] æ˜¯å¦æœ‰ç¡¬ç¼–ç æ–‡æœ¬
- [ ] æ˜¯å¦æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†
- [ ] æ˜¯å¦æœ‰è¶³å¤Ÿçš„æµ‹è¯•è¦†ç›–
- [ ] æ˜¯å¦æœ‰æ–‡æ¡£æ›´æ–°
- [ ] æ˜¯å¦ç¬¦åˆæ€§èƒ½è¦æ±‚
- [ ] æ˜¯å¦æœ‰TypeScriptç±»å‹å®šä¹‰
- [ ] æ˜¯å¦æœ‰ä»£ç æ³¨é‡Š

---

### 13.4 æ€§èƒ½å®¡æŸ¥

**å¿…é¡»éªŒè¯**:
- [ ] æ‹–æ‹½æ“ä½œæ˜¯å¦æµç•…ï¼ˆâ‰¥60fpsï¼‰
- [ ] 100ä¸ªçª—å£æ˜¯å¦æµç•…è¿è¡Œ
- [ ] æ˜¯å¦å®ç°æ‡’åŠ è½½
- [ ] æ˜¯å¦ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- [ ] æ˜¯å¦æ­£ç¡®æ¸…ç†èµ„æº
- [ ] æ˜¯å¦æœ‰å†…å­˜æ³„æ¼

---

## 14. æ–‡æ¡£è§„èŒƒ

### 14.1 å¿…éœ€æ–‡æ¡£

**é¡¹ç›®æ–‡æ¡£**:
- README.mdï¼šé¡¹ç›®è¯´æ˜
- CHANGELOG.mdï¼šå˜æ›´æ—¥å¿—
- API.mdï¼šAPIæ–‡æ¡£

**éœ€æ±‚æ–‡æ¡£**:
- 01-äº§å“æ¦‚è¿°.md
- 02-åŠŸèƒ½éœ€æ±‚.md
- 03-ç”¨æˆ·æ•…äº‹.md
- 04-äº¤äº’è®¾è®¡.md
- 05-å¸ƒå±€æ’ä»¶éœ€æ±‚.md

**æŠ€æœ¯æ–‡æ¡£**:
- 01-æ¶æ„è®¾è®¡.md
- 02-æ¨¡å—è®¾è®¡.md
- 03-æ¥å£å®šä¹‰.md
- 04-å¼€å‘æŒ‡å—.mdï¼ˆå¦‚éœ€è¦ï¼‰
- 05-æµ‹è¯•æ‰‹å†Œ.mdï¼ˆå¦‚éœ€è¦ï¼‰

**å¼€å‘è§„èŒƒ**:
- å¼€å‘è§„èŒƒ.mdï¼ˆæœ¬æ–‡æ¡£ï¼‰

### 14.2 æ–‡æ¡£æ›´æ–°

**è¦æ±‚**:
- APIå˜æ›´å¿…é¡»åŒæ­¥æ›´æ–°æ–‡æ¡£
- æ–°åŠŸèƒ½å¿…é¡»æœ‰ä½¿ç”¨è¯´æ˜
- åºŸå¼ƒåŠŸèƒ½å¿…é¡»æœ‰è¿ç§»æŒ‡å—
- æ‰€æœ‰æ–‡æ¡£ä½¿ç”¨ä¸­æ–‡ç¼–å†™
- é‡è¦æ¦‚å¿µæä¾›ä¸­è‹±æ–‡å¯¹ç…§

---

## 15. ä»£ç æäº¤æ£€æŸ¥æ¸…å•

### 15.1 æäº¤å‰å¿…é¡»æ£€æŸ¥

**æ¶æ„ç›¸å…³**:
- [ ] æ— ç›´æ¥è°ƒç”¨å…¶ä»–æ¨¡å—ï¼ˆæ£€æŸ¥importï¼‰
- [ ] æ‰€æœ‰é€šä¿¡é€šè¿‡å¾®å†…æ ¸è·¯ç”±
- [ ] æ‰€æœ‰åŸºç¡€åŠŸèƒ½è°ƒç”¨å…¬å…±åŸºç¡€å±‚
- [ ] æ‰€æœ‰ç•Œé¢ä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“
- [ ] éµå¾ªä¸­å¿ƒè·¯ç”±åŸåˆ™

**ä»£ç è´¨é‡**:
- [ ] æ— ç¡¬ç¼–ç æ–‡æœ¬ï¼ˆæ‰€æœ‰æ–‡æœ¬ä½¿ç”¨t()ï¼‰
- [ ] æ‰€æœ‰å¼‚æ­¥æ“ä½œæœ‰é”™è¯¯å¤„ç†
- [ ] æ— ç©ºcatchå—
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ï¼ˆâ‰¥80%ï¼‰
- [ ] ä»£ç æ ¼å¼åŒ–ï¼ˆPrettierï¼‰
- [ ] TypeScriptç±»å‹æ£€æŸ¥é€šè¿‡
- [ ] ESLintæ£€æŸ¥é€šè¿‡

**æ€§èƒ½ç›¸å…³**:
- [ ] é«˜é¢‘æ“ä½œä½¿ç”¨é˜²æŠ–èŠ‚æµ
- [ ] å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- [ ] ç»„ä»¶ä½¿ç”¨æ‡’åŠ è½½
- [ ] æ­£ç¡®æ¸…ç†èµ„æº
- [ ] æ— å†…å­˜æ³„æ¼

**æ–‡æ¡£ç›¸å…³**:
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] APIå˜æ›´æœ‰è¯´æ˜
- [ ] å¤æ‚é€»è¾‘æœ‰æ³¨é‡Š
- [ ] Commitä¿¡æ¯è§„èŒƒ

**æµ‹è¯•ç›¸å…³**:
- [ ] æ–°åŠŸèƒ½æœ‰æµ‹è¯•ç”¨ä¾‹
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] Mockå¾®å†…æ ¸è°ƒç”¨
- [ ] æµ‹è¯•è¦†ç›–å…³é”®è·¯å¾„

---

## 16. å¼€å‘å·¥å…·é…ç½®

### 16.1 VS Code / Cursor é…ç½®

**.vscode/settings.json**:
```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.tsdk": "node_modules/typescript/lib",
  "vue.server.hybridMode": true,
  
  // è‡ªå®šä¹‰è§„åˆ™ï¼šç¦æ­¢å¯¼å…¥åŸºç¡€å±‚
  "eslint.rules.customRules": {
    "no-direct-foundation-import": "error",
    "no-direct-plugin-import": "error",
    "no-hardcoded-text": "error"
  }
}
```

### 16.2 ESLinté…ç½®

**.eslintrc.js**:
```javascript
module.exports = {
  extends: [
    'plugin:vue/vue3-recommended',
    '@vue/typescript/recommended',
    '@chips/eslint-config'  // è–¯ç‰‡ç”Ÿæ€ç»Ÿä¸€é…ç½®
  ],
  
  rules: {
    // ç¦æ­¢ç›´æ¥å¯¼å…¥åŸºç¡€å±‚
    'no-restricted-imports': ['error', {
      patterns: [
        '@chips/foundation/*',
        '**/foundation/**'
      ],
      message: 'ç¦æ­¢ç›´æ¥å¯¼å…¥åŸºç¡€å±‚ï¼Œå¿…é¡»é€šè¿‡å¾®å†…æ ¸è·¯ç”±è°ƒç”¨'
    }],
    
    // ç¦æ­¢ç¡¬ç¼–ç æ–‡æœ¬
    'no-hardcoded-text': 'error',
    
    // å…¶ä»–è§„åˆ™
    '@typescript-eslint/explicit-function-return-type': 'warn',
    'vue/multi-word-component-names': 'off'
  }
};
```

### 16.3 TypeScripté…ç½®

**tsconfig.json**:
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "strict": true,
    "jsx": "preserve",
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "@chips/sdk": ["node_modules/@chips/sdk"],
      "@chips/components": ["node_modules/@chips/components"]
    },
    
    "types": ["vite/client", "electron"]
  },
  
  "include": ["src/**/*.ts", "src/**/*.vue"],
  "exclude": ["node_modules", "dist"]
}
```

---

## 17. å¼€å‘æµç¨‹

### 17.1 åŠŸèƒ½å¼€å‘æµç¨‹

1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/new-feature
   ```

2. **ç¼–å†™ä»£ç **
   - éµå¾ªæ‰€æœ‰å¼€å‘è§„èŒƒ
   - é€šè¿‡å¾®å†…æ ¸è°ƒç”¨æ‰€æœ‰åŠŸèƒ½
   - ä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“æ„å»ºç•Œé¢
   - è°ƒç”¨åŸºç¡€å±‚çš„é€šç”¨åŠŸèƒ½

3. **ç¼–å†™æµ‹è¯•**
   - Mockå¾®å†…æ ¸è°ƒç”¨
   - è¦†ç›–å…³é”®è·¯å¾„
   - è¾¾åˆ°è¦†ç›–ç‡è¦æ±‚

4. **æœ¬åœ°æµ‹è¯•**
   ```bash
   pnpm lint          # ä»£ç æ£€æŸ¥
   pnpm type-check    # ç±»å‹æ£€æŸ¥
   pnpm test          # è¿è¡Œæµ‹è¯•
   pnpm build         # æ„å»ºéªŒè¯
   ```

5. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "feat: æ–°åŠŸèƒ½æè¿°"
   ```

6. **æäº¤PR**
   - å¡«å†™å®Œæ•´çš„PRæè¿°
   - å…³è”ç›¸å…³Issue
   - ç­‰å¾…ä»£ç å®¡æŸ¥

7. **ä»£ç å®¡æŸ¥**
   - å®¡æŸ¥æ¶æ„æ˜¯å¦ç¬¦åˆè§„èŒƒ
   - å®¡æŸ¥ä»£ç è´¨é‡
   - å®¡æŸ¥æµ‹è¯•è¦†ç›–ç‡

8. **åˆå¹¶ä»£ç **
   ```bash
   git checkout develop
   git merge feature/new-feature
   ```

---

## 18. å¸¸è§é—®é¢˜

### 18.1 å¦‚ä½•è°ƒç”¨åŸºç¡€å±‚åŠŸèƒ½ï¼Ÿ

**é—®**: æˆ‘éœ€è¦æ’­æ”¾è§†é¢‘ï¼Œå¦‚ä½•è°ƒç”¨åŸºç¡€å±‚çš„è§†é¢‘æ’­æ”¾å™¨ï¼Ÿ

**ç­”**: é€šè¿‡å¾®å†…æ ¸è·¯ç”±è°ƒç”¨ï¼š
```typescript
const response = await Core.request({
  service: "foundation.video-player.create",
  payload: {
    container: elementId,
    videoPath: "path/to/video.mp4",
    options: {
      controls: true,
      autoplay: false
    }
  }
});

const playerId = response.playerId;
```

**ä¸è¦**: ç›´æ¥å¯¼å…¥å’Œè°ƒç”¨åŸºç¡€å±‚æ¨¡å—ã€‚

---

### 18.2 å¦‚ä½•ä½¿ç”¨ç»„ä»¶åº“ï¼Ÿ

**é—®**: æˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ªæŒ‰é’®ï¼Œå¦‚ä½•ä½¿ç”¨ç»„ä»¶åº“ï¼Ÿ

**ç­”**: ä» @chips/components å¯¼å…¥ç»„ä»¶ï¼š
```vue
<template>
  <Button type="primary" @click="handleClick">
    {{ t('common.save') }}
  </Button>
</template>

<script setup lang="ts">
import { Button } from '@chips/components';

const handleClick = async () => {
  await Core.request({
    service: "card.update",
    payload: { ... }
  });
};
</script>
```

**ä¸è¦**: ä½¿ç”¨å…¶ä»–UIåº“æˆ–è‡ªå·±å®ç°æŒ‰é’®ç»„ä»¶ã€‚

---

### 18.3 å¦‚ä½•æ·»åŠ æ ·å¼ï¼Ÿ

**é—®**: ç»„ä»¶éœ€è¦æ ·å¼ï¼Œå¦‚ä½•æ·»åŠ ï¼Ÿ

**ç­”**: ä¸æ·»åŠ ï¼æ ·å¼ç”±ä¸»é¢˜åŒ…æä¾›ï¼š
```vue
<template>
  <!-- âœ… åªæ·»åŠ ç±»åï¼Œä¸å®šä¹‰æ ·å¼ -->
  <div class="chips-card-window">
    <div class="card-menubar">
      <!-- å†…å®¹ -->
    </div>
  </div>
</template>

<!-- âŒ ç¦æ­¢åŒ…å« <style> æ ‡ç­¾ -->
```

**è¯´æ˜**: è–¯ç‰‡ç»„ä»¶åº“å’Œç¼–è¾‘å¼•æ“éµå¾ªåŠŸèƒ½ä¸æ ·å¼åˆ†ç¦»åŸåˆ™ï¼Œæ‰€æœ‰æ ·å¼ç”±ä¸»é¢˜åŒ…é€šè¿‡CSSå˜é‡æä¾›ã€‚

---

### 18.4 å¦‚ä½•è¯»å–é…ç½®ï¼Ÿ

**é—®**: æˆ‘éœ€è¦è¯»å–ç”¨æˆ·é…ç½®ï¼Œå¦‚ä½•æ“ä½œï¼Ÿ

**ç­”**: é€šè¿‡å¾®å†…æ ¸çš„é…ç½®æœåŠ¡ï¼š
```typescript
const response = await Core.request({
  service: "config.get",
  payload: {
    key: "editor.default_layout",
    scope: "user"
  }
});

const defaultLayout = response.value;
```

**ä¸è¦**: ç›´æ¥è¯»å–é…ç½®æ–‡ä»¶æˆ–ä½¿ç”¨å…¶ä»–é…ç½®åº“ã€‚

---

### 18.5 å¦‚ä½•å¤„ç†å¤šè¯­è¨€ï¼Ÿ

**é—®**: ç•Œé¢æ–‡æœ¬å¦‚ä½•æ”¯æŒå¤šè¯­è¨€ï¼Ÿ

**ç­”**: ä½¿ç”¨å¤šè¯­è¨€ç³»ç»Ÿï¼Œå¼€å‘æ—¶ä½¿ç”¨keyï¼Œæ‰“åŒ…æ—¶è‡ªåŠ¨æ›¿æ¢ï¼š
```vue
<template>
  <!-- å¼€å‘æ—¶ä½¿ç”¨å¯è¯»key -->
  <Button>{{ t('common.ok') }}</Button>
  <div>{{ t('message.save_success') }}</div>
</template>

<script setup lang="ts">
import { useTranslation } from '@chips/components';

const { t } = useTranslation();

// æ‰“åŒ…åè‡ªåŠ¨æ›¿æ¢ä¸ºï¼š
// t('i18n.core.000001')
// t('i18n.ui.100050')
</script>
```

**ä¸è¦**: ç¡¬ç¼–ç ä»»ä½•æ–‡æœ¬ï¼ŒåŒ…æ‹¬ä¸­æ–‡ã€è‹±æ–‡æˆ–å…¶ä»–è¯­è¨€ã€‚

---

## 19. è¿è§„å¤„ç†

### 19.1 ä¸¥é‡è¿è§„ï¼ˆç¦æ­¢åˆå¹¶ï¼‰

**ä»¥ä¸‹è¡Œä¸ºç¦æ­¢åˆå¹¶ä»£ç **:
- è¿åä¸­å¿ƒè·¯ç”±åŸåˆ™ï¼ˆç›´æ¥è°ƒç”¨æ¨¡å—ï¼‰
- ç›´æ¥ä½¿ç”¨åŸºç¡€å±‚ï¼ˆä¸é€šè¿‡å¾®å†…æ ¸ï¼‰
- ä½¿ç”¨å…¶ä»–UIåº“ï¼ˆä¸ç”¨è–¯ç‰‡ç»„ä»¶åº“ï¼‰
- åŒ…å«ç¡¬ç¼–ç æ–‡æœ¬
- æ²¡æœ‰é”™è¯¯å¤„ç†çš„å…³é”®æ“ä½œ
- æµ‹è¯•è¦†ç›–ç‡ä¸è¾¾æ ‡

### 19.2 è­¦å‘Šå¤„ç†ï¼ˆéœ€è¦ä¿®æ”¹ï¼‰

**ä»¥ä¸‹è¡Œä¸ºéœ€è¦ä¿®æ”¹**:
- å‘½åä¸è§„èŒƒ
- æ³¨é‡Šç¼ºå¤±
- æ—¥å¿—ä¸å®Œæ•´
- æ€§èƒ½é—®é¢˜
- ä»£ç é‡å¤

---

## 20. å‚è€ƒèµ„æ–™

### 20.1 ç”Ÿæ€è§„èŒƒæ–‡æ¡£

**å¿…è¯»**:
- [ç”Ÿæ€è®¾è®¡åŸç¨¿ - 09-æè‡´æ¨¡å—åŒ–æ¶æ„](../ç”Ÿæ€è®¾è®¡åŸç¨¿ï¼ˆä¸€åˆ‡æ ‡å‡†ï¼‰/09-æè‡´æ¨¡å—åŒ–æ¶æ„.md)
- [ç”Ÿæ€è®¾è®¡åŸç¨¿ - 15-ä¸­å¿ƒè·¯ç”±æ¶æ„åŸåˆ™](../ç”Ÿæ€è®¾è®¡åŸç¨¿ï¼ˆä¸€åˆ‡æ ‡å‡†ï¼‰/15-ä¸­å¿ƒè·¯ç”±æ¶æ„åŸåˆ™.md)
- [ç”Ÿæ€å…±ç”¨ - 08-å¼€å‘è§„èŒƒæ€»åˆ™](../ç”Ÿæ€å…±ç”¨/08-å¼€å‘è§„èŒƒæ€»åˆ™.md)
- [ç”Ÿæ€å…±ç”¨ - 01-è–¯ç‰‡åè®®è§„èŒƒ](../ç”Ÿæ€å…±ç”¨/01-è–¯ç‰‡åè®®è§„èŒƒ.md)

**å‚è€ƒ**:
- [å…¬å…±åŸºç¡€å±‚ - éœ€æ±‚æ–‡æ¡£](../Chips-Foundation/éœ€æ±‚æ–‡æ¡£/)
- [å…¬å…±åŸºç¡€å±‚ - æŠ€æœ¯æ–‡æ¡£](../Chips-Foundation/æŠ€æœ¯æ–‡æ¡£/)
- [è–¯ç‰‡ç»„ä»¶åº“ - å¼€å‘è§„èŒƒ](../Chips-ComponentLibrary/å¼€å‘è§„èŒƒ.md)
- [å¤šè¯­è¨€ç³»ç»Ÿè§„èŒƒ](../ç”Ÿæ€å…±ç”¨/11-å¤šè¯­è¨€ç³»ç»Ÿè§„èŒƒ.md)

---

## 21. æ€»ç»“

### 21.1 æ ¸å¿ƒåŸåˆ™

ç¼–è¾‘å¼•æ“å¼€å‘å¿…é¡»éµå¾ªçš„æ ¸å¿ƒåŸåˆ™ï¼š

1. **ä¸­å¿ƒè·¯ç”±åŸåˆ™** â­: æ‰€æœ‰è°ƒç”¨é€šè¿‡å¾®å†…æ ¸è·¯ç”±
2. **å®Œå…¨ä½¿ç”¨åŸºç¡€å±‚**: ä¸é‡å¤å®ç°åŸºç¡€åŠŸèƒ½
3. **å®Œå…¨ä½¿ç”¨ç»„ä»¶åº“**: æ‰€æœ‰ç•Œé¢ä½¿ç”¨è–¯ç‰‡ç»„ä»¶åº“
4. **é›¶ç¡¬ç¼–ç æ–‡æœ¬**: æ‰€æœ‰æ–‡æœ¬ä½¿ç”¨å¤šè¯­è¨€ç³»ç»Ÿ
5. **æ¨¡å—å®Œå…¨è§£è€¦**: é€šè¿‡æ ‡å‡†æ¥å£é€šä¿¡

### 21.2 æŠ€æœ¯æ ˆ

```
Vue 3 + TypeScript (å‰ç«¯æ¡†æ¶)
  â†“
@chips/components (è–¯ç‰‡ç»„ä»¶åº“ - ç•Œé¢)
  â†“
@chips/sdk (è–¯ç‰‡SDK - é€šä¿¡å±‚)
  â†“
Chips Core (è–¯ç‰‡å¾®å†…æ ¸ - è·¯ç”±å±‚)
  â†“
Chips Foundation (å…¬å…±åŸºç¡€å±‚ - åŠŸèƒ½å±‚)
Plugin System (æ’ä»¶ç³»ç»Ÿ - æ‰©å±•å±‚)
```

### 21.3 è¿è§„é›¶å®¹å¿

ä»¥ä¸‹è¡Œä¸ºç»å¯¹ç¦æ­¢ï¼š
- âŒ ç›´æ¥è°ƒç”¨å…¶ä»–æ¨¡å—
- âŒ ç›´æ¥ä½¿ç”¨åŸºç¡€å±‚ï¼ˆä¸é€šè¿‡å¾®å†…æ ¸ï¼‰
- âŒ ä½¿ç”¨å…¶ä»–UIåº“ï¼ˆä¸ç”¨ç»„ä»¶åº“ï¼‰
- âŒ ç¡¬ç¼–ç æ–‡æœ¬
- âŒ é‡å¤å®ç°åŸºç¡€åŠŸèƒ½
- âŒ åŒ…å«æ ·å¼ä»£ç 

### 21.4 å¼€å‘å»ºè®®

1. **å…ˆé˜…è¯»æ–‡æ¡£**: å¼€å‘å‰å…ˆé˜…è¯»ç”Ÿæ€è®¾è®¡åŸç¨¿å’Œç›¸å…³æ–‡æ¡£
2. **ä½¿ç”¨ä»£ç æ¨¡æ¿**: ä½¿ç”¨æä¾›çš„ä»£ç æ¨¡æ¿å’Œç¤ºä¾‹
3. **é¢‘ç¹æäº¤**: å°æ­¥æäº¤ï¼Œä¾¿äºå®¡æŸ¥å’Œå›æ»š
4. **ç¼–å†™æµ‹è¯•**: å…ˆå†™æµ‹è¯•ï¼Œå†å†™å®ç°ï¼ˆTDDï¼‰
5. **éµå¾ªè§„èŒƒ**: ä¸¥æ ¼éµå¾ªæ‰€æœ‰å¼€å‘è§„èŒƒ

---

**æ–‡æ¡£ç»´æŠ¤è€…**: Chipsç”Ÿæ€å›¢é˜Ÿ  
**æœ€åå®¡æ ¸**: 2026-01-31  
**çŠ¶æ€**: âœ… ç”Ÿæ•ˆ

---

## é™„å½•ï¼šå¿«é€Ÿå‚è€ƒ

### A. å¾®å†…æ ¸æœåŠ¡é€ŸæŸ¥

```typescript
// å¡ç‰‡æ“ä½œ
Core.request({ service: "card.read", payload: { cardId } });
Core.request({ service: "card.create", payload: { name } });
Core.request({ service: "card.update", payload: { cardId, updates } });
Core.request({ service: "card.delete", payload: { cardId } });

// èµ„æºæ“ä½œ
Core.request({ service: "resource.fetch", payload: { uri } });
Core.request({ service: "resource.write", payload: { uri, data } });

// æ’ä»¶æ“ä½œ
Core.request({ service: "plugin.load", payload: { pluginId } });
Core.request({ service: "plugin.list", payload: { filter } });

// é…ç½®æ“ä½œ
Core.request({ service: "config.get", payload: { key } });
Core.request({ service: "config.set", payload: { key, value } });

// åŸºç¡€å±‚è°ƒç”¨
Core.request({ service: "foundation.video-player.create", payload: { ... } });
Core.request({ service: "foundation.markdown.parse", payload: { ... } });
Core.request({ service: "foundation.drag-drop.init", payload: {} });
```

### B. ç»„ä»¶åº“å¯¼å…¥é€ŸæŸ¥

```typescript
// ä»è–¯ç‰‡ç»„ä»¶åº“å¯¼å…¥
import {
  // åŸºç¡€ç»„ä»¶
  Button, Input, Select, Checkbox, Radio, Switch, Slider,
  
  // å¸ƒå±€ç»„ä»¶
  Grid, GridItem, Flex, Container, Divider,
  
  // æ•°æ®å±•ç¤º
  List, ListItem, Tree, Table, Card, Avatar, Badge,
  
  // åé¦ˆç»„ä»¶
  Message, Notification, Modal, Drawer, Loading,
  
  // å¯¼èˆªç»„ä»¶
  Menu, Tabs, TabPane, Breadcrumb,
  
  // ç‰¹æ®Šç»„ä»¶
  ThemeProvider, ChipsProvider, ErrorBoundary,
  
  // å¡ç‰‡ç»„ä»¶
  MarkdownCard, ImageCard, VideoCard, AudioCard,
  
  // å·¥å…·
  useTranslation
} from '@chips/components';
```

---

**Chips Editor å¼€å‘å›¢é˜Ÿ**  
**2026-01-31**
