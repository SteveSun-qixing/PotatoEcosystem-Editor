# Chips-Editor å¼€å‘è®¡åˆ’æ€»è§ˆ

**ç‰ˆæœ¬**: 1.0.0  
**æ—¥æœŸ**: 2026-02-01  
**çŠ¶æ€**: è§„åˆ’ä¸­

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®å®šä½

Chips-Editorï¼ˆå¡ç‰‡ç¼–è¾‘å¼•æ“ï¼‰æ˜¯è–¯ç‰‡ç”Ÿæ€çš„æ ¸å¿ƒåº”ç”¨ï¼Œç”¨äºåˆ›å»ºå’Œç¼–è¾‘å¡ç‰‡çš„è½¯ä»¶å¹³å°ã€‚ç¼–è¾‘å¼•æ“æœ¬èº«æ˜¯æ¡†æ¶ï¼Œå®é™…ç¼–è¾‘åŠŸèƒ½ç”±æ’ä»¶æä¾›ã€‚å¼•æ“è´Ÿè´£æ¥æ”¶ç”¨æˆ·æ“ä½œï¼Œä¼ è¾¾ç»™ç›¸åº”æ’ä»¶è¿›è¡Œæ•°æ®å¤„ç†ï¼Œå®æ—¶ä¿å­˜æ‰€æœ‰æ›´æ”¹ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

- **æ— é™ç”»å¸ƒå¸ƒå±€**ï¼šä¸¤å±‚ç•Œé¢è®¾è®¡ï¼ˆæ¡Œé¢å±‚ + çª—å£å±‚ï¼‰ï¼Œæ”¯æŒæ— é™æ‰©å±•çš„ç”»å¸ƒ
- **å·¥ä½œå°å¸ƒå±€**ï¼šåˆ†åŒºçª—å£ç»„åˆæ–¹å¼ï¼Œé€‚åˆä¸“æ³¨å•å¡ç‰‡ç¼–è¾‘
- **ç¼–è¾‘é¢æ¿ç³»ç»Ÿ**ï¼šæ˜¾ç¤ºåŸºç¡€å¡ç‰‡çš„ç¼–è¾‘ç»„ä»¶
- **æ–‡ä»¶ç®¡ç†å™¨**ï¼šç®¡ç†æ¡Œé¢ä¸Šçš„å¡ç‰‡å’Œç®±å­æ–‡ä»¶
- **å¡ç®±åº“**ï¼šæ˜¾ç¤ºå„ç§åŸºç¡€å¡ç‰‡ç±»å‹å’Œç®±å­å¸ƒå±€ç±»å‹
- **ç¨‹åºå**ï¼šæ˜¾ç¤ºå·¥å…·ç»„ä»¶å›¾æ ‡ï¼Œæ”¯æŒæœ€å°åŒ–/å±•å¼€

### 1.3 æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **æµ‹è¯•**: Vitest
- **æ¡Œé¢å°è£…**: Electron
- **ä¾èµ–**:
  - @chips/coreï¼ˆè–¯ç‰‡å¾®å†…æ ¸ï¼‰
  - @chips/foundationï¼ˆå…¬å…±åŸºç¡€å±‚ï¼‰
  - @chips/sdkï¼ˆå¼€å‘å·¥å…·åŒ…ï¼‰
  - @chips/componentsï¼ˆç»„ä»¶åº“ï¼‰

---

## 2. ä¾èµ–å…³ç³»

```
Chips-coreï¼ˆè–¯ç‰‡å¾®å†…æ ¸ï¼‰
    â†“
Chips-Foundationï¼ˆå…¬å…±åŸºç¡€å±‚ï¼‰
    â†“
Chips-SDKï¼ˆå¼€å‘å·¥å…·åŒ…ï¼‰ + Chips-ComponentLibraryï¼ˆç»„ä»¶åº“ï¼‰
    â†“
Chips-Editorï¼ˆå¡ç‰‡ç¼–è¾‘å¼•æ“ï¼‰â† å½“å‰é¡¹ç›®
```

### 2.1 æ ¸å¿ƒä¾èµ–è¯´æ˜

| ä¾èµ–é¡¹ | ä½œç”¨ |
|-------|------|
| Chips-core | æä¾›ä¸­å¿ƒè·¯ç”±ã€æ¨¡å—ç®¡ç†ã€äº‹ä»¶æ€»çº¿ |
| Chips-Foundation | æä¾›å¡ç‰‡æ¸²æŸ“å™¨ã€çª—å£ç®¡ç†å™¨ã€æ‹–æ”¾ç³»ç»Ÿç­‰é€šç”¨æ¨¡å— |
| Chips-SDK | æä¾› API å°è£…ï¼Œç®€åŒ–å¼€å‘ |
| Chips-ComponentLibrary | æä¾› UI ç»„ä»¶ï¼ˆButtonã€Inputã€Modal ç­‰ï¼‰ |

---

## 3. å¼€å‘é˜¶æ®µè§„åˆ’

### 3.1 é˜¶æ®µæ€»è§ˆ

| é˜¶æ®µ | åç§° | å‘¨æœŸ | ä¾èµ– | ä¼˜å…ˆçº§ |
|------|------|------|------|--------|
| Phase1 | é¡¹ç›®åˆå§‹åŒ–ä¸åŸºç¡€æ¶æ„ | 1å‘¨ | æ—  | ğŸ”´ æœ€é«˜ |
| Phase2 | æ ¸å¿ƒé€šä¿¡å±‚ä¸çŠ¶æ€ç®¡ç† | 1å‘¨ | Phase1 | ğŸ”´ æœ€é«˜ |
| Phase3 | çª—å£ç®¡ç†ç³»ç»Ÿ | 1å‘¨ | Phase2 | ğŸ”´ æœ€é«˜ |
| Phase4 | æ— é™ç”»å¸ƒå¸ƒå±€ | 2å‘¨ | Phase3 | ğŸ”´ æœ€é«˜ |
| Phase5 | æ–‡ä»¶ç®¡ç†å™¨ | 1å‘¨ | Phase3 | ğŸŸ¡ é«˜ |
| Phase6 | ç¼–è¾‘é¢æ¿ç³»ç»Ÿ | 1.5å‘¨ | Phase4 | ğŸŸ¡ é«˜ |
| Phase7 | å¡ç®±åº“ | 1å‘¨ | Phase4, Phase6 | ğŸŸ¡ é«˜ |
| Phase8 | ç¨‹åºå | 0.5å‘¨ | Phase4 | ğŸŸ¢ ä¸­ |
| Phase9 | å·¥ä½œå°å¸ƒå±€ | 1å‘¨ | Phase4, Phase5, Phase6 | ğŸŸ¢ ä¸­ |
| Phase10 | æ‹–æ”¾ç³»ç»Ÿ | 1å‘¨ | Phase4, Phase7 | ğŸŸ¡ é«˜ |
| Phase11 | æ’¤é”€é‡åšç³»ç»Ÿ | 1å‘¨ | Phase6 | ğŸŸ¢ ä¸­ |
| Phase12 | é›†æˆæµ‹è¯•ä¸æ€§èƒ½ä¼˜åŒ– | 1å‘¨ | å…¨éƒ¨ | ğŸ”´ æœ€é«˜ |
| Phase13 | æ–‡æ¡£å®Œå–„ä¸å‘å¸ƒå‡†å¤‡ | 1å‘¨ | å…¨éƒ¨ | ğŸ”´ æœ€é«˜ |

**æ€»è®¡**: çº¦ 14 å‘¨

### 3.2 å¼€å‘ç­–ç•¥

#### å‰æœŸï¼ˆPhase1-Phase4ï¼‰ï¼šé¡ºåºå¼€å‘

- æ³¨é‡é¡¹ç›®ç¨³å®šæ€§å’Œä»£ç è´¨é‡
- å»ºç«‹æ ¸å¿ƒåŸºç¡€è®¾æ–½
- å®Œæˆé¡¹ç›®éª¨æ¶å’Œæ ¸å¿ƒæ¨¡å—
- åªä½¿ç”¨ä¸€ä¸ªå­ä»£ç†é¡ºåºå®Œæˆå¼€å‘å·¥ä½œ

#### ä¸­æœŸï¼ˆPhase5-Phase9ï¼‰ï¼šæœ‰é™å¹¶è¡Œå¼€å‘

- Phase5ï¼ˆæ–‡ä»¶ç®¡ç†å™¨ï¼‰å’Œ Phase6ï¼ˆç¼–è¾‘é¢æ¿ç³»ç»Ÿï¼‰å¯ä»¥å¹¶è¡Œ
- Phase7ï¼ˆå¡ç®±åº“ï¼‰å’Œ Phase8ï¼ˆç¨‹åºåï¼‰å¯ä»¥å¹¶è¡Œ
- ä¿è¯æ ¸å¿ƒæ¨¡å—ç¨³å®šåå†å¹¶è¡Œå¼€å‘

#### åæœŸï¼ˆPhase10-Phase13ï¼‰ï¼šå¹¶è¡Œå¼€å‘

- å¤šä¸ªå­ä»£ç†å¹¶è¡Œå¤„ç†ä»»åŠ¡
- å……åˆ†æµ‹è¯•ï¼Œç¡®ä¿å„æ¨¡å—åä½œæ­£å¸¸
- æ€§èƒ½ä¼˜åŒ–å’Œæ–‡æ¡£å®Œå–„

---

## 4. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 4.1 ç›®å½•ç»“æ„

```
Chips-Editor/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ editor.ts            # ç¼–è¾‘å™¨ä¸»ç±»
â”‚   â”‚   â”œâ”€â”€ connector.ts         # SDK è¿æ¥å™¨
â”‚   â”‚   â”œâ”€â”€ event-manager.ts     # äº‹ä»¶ç®¡ç†
â”‚   â”‚   â””â”€â”€ state/               # çŠ¶æ€ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ editor-store.ts  # ç¼–è¾‘å™¨çŠ¶æ€
â”‚   â”‚       â”œâ”€â”€ card-store.ts    # å¡ç‰‡çŠ¶æ€
â”‚   â”‚       â””â”€â”€ ui-store.ts      # UI çŠ¶æ€
â”‚   â”‚
â”‚   â”œâ”€â”€ layouts/                 # å¸ƒå±€æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ infinite-canvas/     # æ— é™ç”»å¸ƒå¸ƒå±€
â”‚   â”‚   â”‚   â”œâ”€â”€ InfiniteCanvas.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ DesktopLayer.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ WindowLayer.vue
â”‚   â”‚   â”‚   â””â”€â”€ use-canvas.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ workbench/           # å·¥ä½œå°å¸ƒå±€
â”‚   â”‚       â”œâ”€â”€ Workbench.vue
â”‚   â”‚       â”œâ”€â”€ SidePanel.vue
â”‚   â”‚       â””â”€â”€ MainArea.vue
â”‚   â”‚
â”‚   â”œâ”€â”€ components/              # åŠŸèƒ½ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ window/              # çª—å£ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CardWindow.vue   # å¡ç‰‡çª—å£
â”‚   â”‚   â”‚   â”œâ”€â”€ ToolWindow.vue   # å·¥å…·çª—å£
â”‚   â”‚   â”‚   â””â”€â”€ WindowMenu.vue   # çª—å£èœå•æ 
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ file-manager/        # æ–‡ä»¶ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ FileManager.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ FileTree.vue
â”‚   â”‚   â”‚   â””â”€â”€ FileItem.vue
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ edit-panel/          # ç¼–è¾‘é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ EditPanel.vue
â”‚   â”‚   â”‚   â””â”€â”€ PluginHost.vue
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ card-box-library/    # å¡ç®±åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ CardBoxLibrary.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ CardTypeGrid.vue
â”‚   â”‚   â”‚   â””â”€â”€ LayoutTypeGrid.vue
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ dock/                # ç¨‹åºå
â”‚   â”‚       â”œâ”€â”€ Dock.vue
â”‚   â”‚       â””â”€â”€ DockItem.vue
â”‚   â”‚
â”‚   â”œâ”€â”€ plugins/                 # æ’ä»¶ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ plugin-loader.ts
â”‚   â”‚   â”œâ”€â”€ plugin-host.ts
â”‚   â”‚   â””â”€â”€ builtin/             # å†…ç½®æ’ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ canvas-utils.ts
â”‚   â”‚   â”œâ”€â”€ dom-utils.ts
â”‚   â”‚   â””â”€â”€ file-utils.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                   # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ editor.ts
â”‚   â”‚   â”œâ”€â”€ window.ts
â”‚   â”‚   â”œâ”€â”€ layout.ts
â”‚   â”‚   â””â”€â”€ plugin.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                  # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ variables.css
â”‚   â”‚   â””â”€â”€ global.css
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                  # é™æ€èµ„æº
â”‚   â”‚
â”‚   â”œâ”€â”€ App.vue                  # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts                  # å…¥å£æ–‡ä»¶
â”‚
â”œâ”€â”€ tests/                       # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/                    # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/             # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ e2e/                     # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚
â”œâ”€â”€ docs/                        # æ–‡æ¡£
â”‚   â”œâ”€â”€ requirements/            # éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ technical/               # æŠ€æœ¯æ–‡æ¡£
â”‚   â””â”€â”€ development/             # å¼€å‘æ–‡æ¡£
â”‚
â”œâ”€â”€ å¼€å‘è®¡åˆ’/                     # å¼€å‘è®¡åˆ’
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vitest.config.ts
â””â”€â”€ README.md
```

### 4.2 æ ¸å¿ƒæ¨¡å—è¯´æ˜

| æ¨¡å— | è¯´æ˜ | ä¾èµ– |
|------|------|------|
| Editor | ç¼–è¾‘å™¨ä¸»ç±»ï¼Œåè°ƒå„æ¨¡å— | SDK, çŠ¶æ€ç®¡ç† |
| Connector | SDK è¿æ¥å™¨ï¼Œä¸ Core é€šä¿¡ | Chips-SDK |
| StateManager | çŠ¶æ€ç®¡ç†ï¼Œä½¿ç”¨ Pinia | - |
| WindowManager | çª—å£ç®¡ç†ï¼Œåˆ›å»º/ç§»åŠ¨/ç¼©æ”¾çª—å£ | Foundation.WindowManager |
| LayoutManager | å¸ƒå±€ç®¡ç†ï¼Œåˆ‡æ¢ä¸åŒå¸ƒå±€ | - |
| PluginHost | æ’ä»¶å®¿ä¸»ï¼ŒåŠ è½½/å¸è½½ç¼–è¾‘ç»„ä»¶ | Foundation.RuntimeManager |
| DragDropManager | æ‹–æ”¾ç®¡ç† | Foundation.DragDropSystem |
| CommandManager | å‘½ä»¤ç®¡ç†ï¼Œæ’¤é”€/é‡åš | - |

---

## 5. æ¥å£è§„èŒƒ

### 5.1 ä¸ SDK çš„æ¥å£

æ‰€æœ‰åŠŸèƒ½é€šè¿‡ Chips-SDK è°ƒç”¨ï¼š

```typescript
// åˆå§‹åŒ–ç¼–è¾‘å™¨
const editor = new ChipsEditor({
  sdk: new ChipsSDK(),
  layout: 'infinite-canvas',
});

await editor.initialize();

// åˆ›å»ºå¡ç‰‡
const card = await editor.createCard({ name: 'æ–°å¡ç‰‡' });

// æ¸²æŸ“å¡ç‰‡
await editor.renderCard(card, windowElement);

// ä¿å­˜å¡ç‰‡
await editor.saveCard(card);
```

### 5.2 ä¸ç»„ä»¶åº“çš„æ¥å£

ä½¿ç”¨ Chips-ComponentLibrary çš„ç»„ä»¶ï¼š

```vue
<template>
  <ChipsProvider>
    <Button type="primary" @click="handleSave">ä¿å­˜</Button>
    <Modal v-model:visible="showSettings">
      <Input v-model="cardName" :placeholder="t('input.card_name')" />
    </Modal>
  </ChipsProvider>
</template>
```

### 5.3 ä¸ Foundation çš„æ¥å£

è°ƒç”¨ Foundation çš„åŠŸèƒ½æ¨¡å—ï¼š

```typescript
// é€šè¿‡ SDK è°ƒç”¨ Foundation æ¨¡å—
const response = await sdk.connector.request({
  service: 'foundation',
  method: 'CardRenderer.render',
  payload: { card, options }
});
```

---

## 6. æµ‹è¯•ç­–ç•¥

### 6.1 æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡

- æ ¸å¿ƒæ¨¡å—ï¼šâ‰¥ 80%
- ç»„ä»¶ï¼šâ‰¥ 70%
- å·¥å…·å‡½æ•°ï¼šâ‰¥ 90%

### 6.2 æµ‹è¯•ç±»å‹

| ç±»å‹ | èŒƒå›´ | å·¥å…· |
|------|------|------|
| å•å…ƒæµ‹è¯• | å‡½æ•°ã€ç±» | Vitest |
| ç»„ä»¶æµ‹è¯• | Vue ç»„ä»¶ | Vue Test Utils |
| é›†æˆæµ‹è¯• | æ¨¡å—åä½œ | Vitest |
| E2E æµ‹è¯• | å®Œæ•´æµç¨‹ | Playwright |

---

## 7. è´¨é‡ä¿è¯

### 7.1 ä»£ç è§„èŒƒ

- ESLint + Prettier
- TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ªè–¯ç‰‡ç”Ÿæ€å¼€å‘è§„èŒƒæ€»åˆ™

### 7.2 æäº¤è§„èŒƒ

- æ¯å®Œæˆä¸€ä¸ªä»»åŠ¡æäº¤ä¸€æ¬¡
- æäº¤ä¿¡æ¯éµå¾ª Conventional Commits
- å…³é”®èŠ‚ç‚¹æ‰“ Tag

### 7.3 æ–‡æ¡£è¦æ±‚

- æ¯ä¸ªæ¨¡å—æœ‰å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£
- API æœ‰è¯¦ç»†çš„ JSDoc æ³¨é‡Š
- æ¯ä¸ªé˜¶æ®µå®Œæˆåç¼–å†™æ€»ç»“

---

## 8. é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | é˜¶æ®µ | æ ‡å¿— |
|--------|------|------|
| M1 - åŸºç¡€æ¡†æ¶ | Phase1-2 | é¡¹ç›®ç»“æ„å®Œæˆï¼Œèƒ½è¿æ¥ SDK |
| M2 - æ ¸å¿ƒå¸ƒå±€ | Phase3-4 | æ— é™ç”»å¸ƒå¯ç”¨ |
| M3 - ç¼–è¾‘åŠŸèƒ½ | Phase5-7 | å¯ä»¥ç¼–è¾‘å¡ç‰‡ |
| M4 - å®Œæ•´åŠŸèƒ½ | Phase8-11 | æ‰€æœ‰åŠŸèƒ½å®Œæˆ |
| M5 - å‘å¸ƒå‡†å¤‡ | Phase12-13 | æµ‹è¯•é€šè¿‡ï¼Œå¯å‘å¸ƒ |

---

## 9. é£é™©ä¸åº”å¯¹

| é£é™© | å½±å“ | åº”å¯¹æªæ–½ |
|------|------|----------|
| SDK æ¥å£å˜æ›´ | é«˜ | æ—©æœŸå¯¹æ¥ï¼Œä½¿ç”¨é€‚é…å™¨æ¨¡å¼ |
| æ€§èƒ½é—®é¢˜ | ä¸­ | è™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ã€æ€§èƒ½ç›‘æ§ |
| æ’ä»¶å…¼å®¹æ€§ | ä¸­ | ä¸¥æ ¼çš„æ’ä»¶æ¥å£è§„èŒƒ |
| å¤æ‚æ‹–æ”¾é€»è¾‘ | ä¸­ | ä½¿ç”¨ Foundation.DragDropSystem |

---

## 10. ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. åˆ›å»ºå­ Git ä»“åº“
2. åˆå§‹åŒ–é¡¹ç›®ç»“æ„
3. å®‰è£…ä¾èµ–
4. å¼€å§‹ Phase1 å¼€å‘

---

**æ–‡æ¡£ç»´æŠ¤è€…**: Chips ç”Ÿæ€æ ¸å¿ƒå›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2026-02-01
